/*! For license information please see newrelic-video-html5.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Html5Tracker=e():t.Html5Tracker=e()}(self,()=>(()=>{var t={34:(t,e,r)=>{"use strict";var i=r(4901);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},81:(t,e,r)=>{"use strict";var i=r(9565),n=r(9306),s=r(8551),o=r(6823),a=r(851),u=TypeError;t.exports=function(t,e){var r=arguments.length<2?a(t):e;if(n(r))return s(i(r,t));throw new u(o(t)+" is not iterable")}},235:(t,e,r)=>{"use strict";var i=r(9213).forEach,n=r(4598)("forEach");t.exports=n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},237:(t,e,r)=>{"use strict";r(6469)("flatMap")},259:(t,e,r)=>{"use strict";var i=r(4376),n=r(6198),s=r(6837),o=r(6080),a=function(t,e,r,u,c,l,d,h){for(var f,p,v=c,y=0,g=!!d&&o(d,h);y<u;)y in r&&(f=g?g(r[y],y,e):r[y],l>0&&i(f)?(p=n(f),v=a(t,e,f,p,v,l-1)-1):(s(v+1),t[v]=f),v++),y++;return v};t.exports=a},280:(t,e,r)=>{"use strict";var i=r(6518),n=r(7751),s=r(6395),o=r(550),a=r(916).CONSTRUCTOR,u=r(3438),c=n("Promise"),l=s&&!a;i({target:"Promise",stat:!0,forced:s||a},{resolve:function(t){return u(l&&this===c?o:this,t)}})},283:(t,e,r)=>{"use strict";var i=r(9504),n=r(9039),s=r(4901),o=r(9297),a=r(3724),u=r(350).CONFIGURABLE,c=r(3706),l=r(1181),d=l.enforce,h=l.get,f=String,p=Object.defineProperty,v=i("".slice),y=i("".replace),g=i([].join),m=a&&!n(function(){return 8!==p(function(){},"length",{value:8}).length}),b=String(String).split("String"),E=t.exports=function(t,e,r){"Symbol("===v(f(e),0,7)&&(e="["+y(f(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(a?p(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&o(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var i=d(t);return o(i,"source")||(i.source=g(b,"string"==typeof e?e:"")),t};Function.prototype.toString=E(function(){return s(this)&&h(this).source||c(this)},"toString")},350:(t,e,r)=>{"use strict";var i=r(3724),n=r(9297),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=n(s,"name"),u=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},373:(t,e,r)=>{"use strict";var i=r(4576),n=r(7476),s=r(9039),o=r(9306),a=r(4488),u=r(4644),c=r(3709),l=r(3763),d=r(9519),h=r(3607),f=u.aTypedArray,p=u.exportTypedArrayMethod,v=i.Uint16Array,y=v&&n(v.prototype.sort),g=!(!y||s(function(){y(new v(2),null)})&&s(function(){y(new v(2),{})})),m=!!y&&!s(function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(h)return h<602;var t,e,r=new v(516),i=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,i[t]=t-2*e+3;for(y(r,function(t,e){return(t/4|0)-(e/4|0)}),t=0;t<516;t++)if(r[t]!==i[t])return!0});p("sort",function(t){return void 0!==t&&o(t),m?y(this,t):a(f(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))},!m||g)},397:(t,e,r)=>{"use strict";var i=r(7751);t.exports=i("document","documentElement")},421:t=>{"use strict";t.exports={}},436:(t,e,r)=>{"use strict";var i,n,s,o,a=r(6518),u=r(6395),c=r(6193),l=r(4576),d=r(9167),h=r(9565),f=r(6840),p=r(2967),v=r(687),y=r(7633),g=r(9306),m=r(4901),b=r(34),E=r(679),A=r(2293),S=r(9225).set,T=r(1955),w=r(3138),O=r(1103),R=r(8265),P=r(1181),D=r(550),_=r(916),x=r(6043),L="Promise",I=_.CONSTRUCTOR,k=_.REJECTION_EVENT,C=_.SUBCLASSING,N=P.getterFor(L),j=P.set,B=D&&D.prototype,V=D,H=B,F=l.TypeError,M=l.document,U=l.process,Q=x.f,z=Q,q=!!(M&&M.createEvent&&l.dispatchEvent),W="unhandledrejection",G=function(t){var e;return!(!b(t)||!m(e=t.then))&&e},K=function(t,e){var r,i,n,s=e.value,o=1===e.state,a=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{a?(o||(2===e.rejection&&Z(e),e.rejection=1),!0===a?r=s:(l&&l.enter(),r=a(s),l&&(l.exit(),n=!0)),r===t.promise?c(new F("Promise-chain cycle")):(i=G(r))?h(i,r,u,c):u(r)):c(s)}catch(t){l&&!n&&l.exit(),c(t)}},Y=function(t,e){t.notified||(t.notified=!0,T(function(){for(var r,i=t.reactions;r=i.get();)K(r,t);t.notified=!1,e&&!t.rejection&&X(t)}))},$=function(t,e,r){var i,n;q?((i=M.createEvent("Event")).promise=e,i.reason=r,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:r},!k&&(n=l["on"+t])?n(i):t===W&&w("Unhandled promise rejection",r)},X=function(t){h(S,l,function(){var e,r=t.facade,i=t.value;if(J(t)&&(e=O(function(){c?U.emit("unhandledRejection",i,r):$(W,r,i)}),t.rejection=c||J(t)?2:1,e.error))throw e.value})},J=function(t){return 1!==t.rejection&&!t.parent},Z=function(t){h(S,l,function(){var e=t.facade;c?U.emit("rejectionHandled",e):$("rejectionhandled",e,t.value)})},tt=function(t,e,r){return function(i){t(e,i,r)}},et=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,Y(t,!0))},rt=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new F("Promise can't be resolved itself");var i=G(e);i?T(function(){var r={done:!1};try{h(i,e,tt(rt,r,t),tt(et,r,t))}catch(e){et(r,e,t)}}):(t.value=e,t.state=1,Y(t,!1))}catch(e){et({done:!1},e,t)}}};if(I&&(H=(V=function(t){E(this,H),g(t),h(i,this);var e=N(this);try{t(tt(rt,e),tt(et,e))}catch(t){et(e,t)}}).prototype,(i=function(t){j(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new R,rejection:!1,state:0,value:null})}).prototype=f(H,"then",function(t,e){var r=N(this),i=Q(A(this,V));return r.parent=!0,i.ok=!m(t)||t,i.fail=m(e)&&e,i.domain=c?U.domain:void 0,0===r.state?r.reactions.add(i):T(function(){K(i,r)}),i.promise}),n=function(){var t=new i,e=N(t);this.promise=t,this.resolve=tt(rt,e),this.reject=tt(et,e)},x.f=Q=function(t){return t===V||t===s?new n(t):z(t)},!u&&m(D)&&B!==Object.prototype)){o=B.then,C||f(B,"then",function(t,e){var r=this;return new V(function(t,e){h(o,r,t,e)}).then(t,e)},{unsafe:!0});try{delete B.constructor}catch(t){}p&&p(B,H)}a({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:V}),s=d.Promise,v(V,L,!1,!0),y(L)},537:(t,e,r)=>{"use strict";var i=r(550),n=r(4428),s=r(916).CONSTRUCTOR;t.exports=s||!n(function(t){i.all(t).then(void 0,function(){})})},547:(t,e,r)=>{"use strict";r.d(e,{X:()=>l}),r(1278),r(3362),r(3500);var i=r(8160),n=r(2747);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach(function(e){a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(i,n)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(t){u(s,i,n,o,a,"next",t)}function a(t){u(s,i,n,o,a,"throw",t)}o(void 0)})}}class l{send(t,e){var r=this;return c(function*(){const i=t.url,s=t.payload,o=t.options,a=void 0===o?{}:o;console.log("ðŸš€ API Call Started:",{url:i,payload:s,payloadSize:JSON.stringify(s).length+" bytes",options:a,timestamp:(new Date).toISOString()});try{if(!i||!s)throw new Error("URL and payload are required");const t={url:i,payload:s,options:a,callback:e};yield r.executeRequest(t)}catch(t){console.error("âŒ Failed to send request (outer catch):",{error:t.message,url:i,stack:t.stack}),n.A.error("Failed to send request:",t.message),e({retry:!1,status:0,error:t.message})}})()}executeRequest(t){var e=this;return c(function*(){const r=t.url,i=t.payload,n=t.options,s=(t.callback,Date.now());try{const o=JSON.stringify(i.body);if(n.isFinalHarvest&&navigator.sendBeacon){console.log("ðŸ“¡ Using sendBeacon for final harvest:",{url:r,bodySize:o.length+" bytes"});const i=yield e.sendWithBeacon(r,o),n={success:i,status:i?204:0};return console.log("ðŸ“¡ sendBeacon result:",{success:i,status:n.status}),void e.handleRequestComplete(t,n,s)}console.log("ðŸŒ Making fetch request:",{url:r,method:"POST",bodySize:o.length+" bytes",body:o,isFinalHarvest:n.isFinalHarvest,timeout:"10000ms"});const a=yield e.fetchWithTimeout(r,{method:"POST",body:o,headers:{"Content-Type":"application/json"},keepalive:n.isFinalHarvest},1e4),u={success:a.ok,status:a.status,statusText:a.statusText};console.log("âœ… API Response Received:",{success:u.success,status:u.status,statusText:u.statusText,duration:Date.now()-s+"ms",url:r}),e.handleRequestComplete(t,u,s)}catch(i){console.error("âŒ API Call Failed:",{error:i.message,errorName:i.name,url:r,duration:Date.now()-s+"ms",stack:i.stack});const n={success:!1,status:0,error:i.message};e.handleRequestComplete(t,n,s)}})()}handleRequestComplete(t,e){const r=t.callback,n={retry:!e.success&&(0===e.status||(0,i.Sc)(e.status)),status:e.status,error:e.error};console.log("ðŸ“¤ API Callback Data:",n),r(n)}sendWithBeacon(t,e){return c(function*(){try{return navigator.sendBeacon(t,e)}catch(t){return n.A.warn("sendBeacon failed, falling back to fetch:",t.message),!1}})()}fetchWithTimeout(t,e,r){return c(function*(){const i=new AbortController,n=setTimeout(()=>i.abort(),r);try{const r=yield fetch(t,o(o({},e),{},{signal:i.signal}));return clearTimeout(n),r}catch(t){if(clearTimeout(n),"AbortError"===t.name)throw new Error(`Request timeout after ${r}ms`);throw t}})()}}},550:(t,e,r)=>{"use strict";var i=r(4576);t.exports=i.Promise},616:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},655:(t,e,r)=>{"use strict";var i=r(6955),n=String;t.exports=function(t){if("Symbol"===i(t))throw new TypeError("Cannot convert a Symbol value to a string");return n(t)}},679:(t,e,r)=>{"use strict";var i=r(1625),n=TypeError;t.exports=function(t,e){if(i(e,t))return t;throw new n("Incorrect invocation")}},687:(t,e,r)=>{"use strict";var i=r(4913).f,n=r(9297),s=r(8227)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!n(t,s)&&i(t,s,{configurable:!0,value:e})}},741:t=>{"use strict";var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?r:e)(i)}},757:(t,e,r)=>{"use strict";var i=r(7751),n=r(4901),s=r(1625),o=r(7040),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return n(e)&&s(e.prototype,a(t))}},851:(t,e,r)=>{"use strict";var i=r(6955),n=r(5966),s=r(4117),o=r(6269),a=r(8227)("iterator");t.exports=function(t){if(!s(t))return n(t,a)||n(t,"@@iterator")||o[i(t)]}},916:(t,e,r)=>{"use strict";var i=r(4576),n=r(550),s=r(4901),o=r(2796),a=r(3706),u=r(8227),c=r(4215),l=r(6395),d=r(9519),h=n&&n.prototype,f=u("species"),p=!1,v=s(i.PromiseRejectionEvent),y=o("Promise",function(){var t=a(n),e=t!==String(n);if(!e&&66===d)return!0;if(l&&(!h.catch||!h.finally))return!0;if(!d||d<51||!/native code/.test(t)){var r=new n(function(t){t(1)}),i=function(t){t(function(){},function(){})};if((r.constructor={})[f]=i,!(p=r.then(function(){})instanceof i))return!0}return!(e||"BROWSER"!==c&&"DENO"!==c||v)});t.exports={CONSTRUCTOR:y,REJECTION_EVENT:v,SUBCLASSING:p}},1072:(t,e,r)=>{"use strict";var i=r(1828),n=r(8727);t.exports=Object.keys||function(t){return i(t,n)}},1088:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(6395),o=r(350),a=r(4901),u=r(3994),c=r(2787),l=r(2967),d=r(687),h=r(6699),f=r(6840),p=r(8227),v=r(6269),y=r(7657),g=o.PROPER,m=o.CONFIGURABLE,b=y.IteratorPrototype,E=y.BUGGY_SAFARI_ITERATORS,A=p("iterator"),S="keys",T="values",w="entries",O=function(){return this};t.exports=function(t,e,r,o,p,y,R){u(r,e,o);var P,D,_,x=function(t){if(t===p&&N)return N;if(!E&&t&&t in k)return k[t];switch(t){case S:case T:case w:return function(){return new r(this,t)}}return function(){return new r(this)}},L=e+" Iterator",I=!1,k=t.prototype,C=k[A]||k["@@iterator"]||p&&k[p],N=!E&&C||x(p),j="Array"===e&&k.entries||C;if(j&&(P=c(j.call(new t)))!==Object.prototype&&P.next&&(s||c(P)===b||(l?l(P,b):a(P[A])||f(P,A,O)),d(P,L,!0,!0),s&&(v[L]=O)),g&&p===T&&C&&C.name!==T&&(!s&&m?h(k,"name",T):(I=!0,N=function(){return n(C,this)})),p)if(D={values:x(T),keys:y?N:x(S),entries:x(w)},R)for(_ in D)(E||I||!(_ in k))&&f(k,_,D[_]);else i({target:e,proto:!0,forced:E||I},D);return s&&!R||k[A]===N||f(k,A,N,{name:p}),v[e]=N,D}},1103:t=>{"use strict";t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},1108:(t,e,r)=>{"use strict";var i=r(6955);t.exports=function(t){var e=i(t);return"BigInt64Array"===e||"BigUint64Array"===e}},1181:(t,e,r)=>{"use strict";var i,n,s,o=r(8622),a=r(4576),u=r(34),c=r(6699),l=r(9297),d=r(7629),h=r(6119),f=r(421),p="Object already initialized",v=a.TypeError,y=a.WeakMap;if(o||d.state){var g=d.state||(d.state=new y);g.get=g.get,g.has=g.has,g.set=g.set,i=function(t,e){if(g.has(t))throw new v(p);return e.facade=t,g.set(t,e),e},n=function(t){return g.get(t)||{}},s=function(t){return g.has(t)}}else{var m=h("state");f[m]=!0,i=function(t,e){if(l(t,m))throw new v(p);return e.facade=t,c(t,m,e),e},n=function(t){return l(t,m)?t[m]:{}},s=function(t){return l(t,m)}}t.exports={set:i,get:n,has:s,enforce:function(t){return s(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=n(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return r}}}},1278:(t,e,r)=>{"use strict";var i=r(6518),n=r(3724),s=r(5031),o=r(5397),a=r(7347),u=r(4659);i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){for(var e,r,i=o(t),n=a.f,c=s(i),l={},d=0;c.length>d;)void 0!==(r=n(i,e=c[d++]))&&u(l,e,r);return l}})},1291:(t,e,r)=>{"use strict";var i=r(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:i(e)}},1469:(t,e,r)=>{"use strict";var i=r(7433);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},1481:(t,e,r)=>{"use strict";var i=r(6518),n=r(6043);i({target:"Promise",stat:!0,forced:r(916).CONSTRUCTOR},{reject:function(t){var e=n.f(this);return(0,e.reject)(t),e.promise}})},1489:(t,e,r)=>{"use strict";r(5823)("Uint8",function(t){return function(e,r,i){return t(this,e,r,i)}})},1625:(t,e,r)=>{"use strict";var i=r(9504);t.exports=i({}.isPrototypeOf)},1800:(t,e,r)=>{"use strict";r.r(e),r.d(e,{videoAnalyticsHarvester:()=>o});var i=r(7907),n=r(9920),s=r(2747);const o=new class{constructor(){this.isInitialized=!1,this.harvestScheduler=null,this.eventBuffer=null}initialize(){if(this.isInitialized)s.A.warn("Video analytics agent already initialized");else try{this.eventBuffer=new n.t,this.harvestScheduler=new i.n(this.eventBuffer),this.harvestScheduler.startScheduler(),this.isInitialized=!0,s.A.notice("Video analytics agent initialized successfully")}catch(t){s.A.error("Failed to initialize video analytics agent:",t.message)}}addEvent(t){this.isInitialized||(s.A.warn("Video analytics agent not initialized, initializing now"),this.initialize());try{return this.eventBuffer.add(t)}catch(t){return s.A.error("Failed to add event to harvesting system:",t.message),!1}}setHarvestInterval(t){this.isInitialized||this.initialize(),this.harvestScheduler.updateHarvestInterval(t)}}},1828:(t,e,r)=>{"use strict";var i=r(9504),n=r(9297),s=r(5397),o=r(9617).indexOf,a=r(421),u=i([].push);t.exports=function(t,e){var r,i=s(t),c=0,l=[];for(r in i)!n(a,r)&&n(i,r)&&u(l,r);for(;e.length>c;)n(i,r=e[c++])&&(~o(l,r)||u(l,r));return l}},1955:(t,e,r)=>{"use strict";var i,n,s,o,a,u=r(4576),c=r(3389),l=r(6080),d=r(9225).set,h=r(8265),f=r(9544),p=r(4265),v=r(7860),y=r(6193),g=u.MutationObserver||u.WebKitMutationObserver,m=u.document,b=u.process,E=u.Promise,A=c("queueMicrotask");if(!A){var S=new h,T=function(){var t,e;for(y&&(t=b.domain)&&t.exit();e=S.get();)try{e()}catch(t){throw S.head&&i(),t}t&&t.enter()};f||y||v||!g||!m?!p&&E&&E.resolve?((o=E.resolve(void 0)).constructor=E,a=l(o.then,o),i=function(){a(T)}):y?i=function(){b.nextTick(T)}:(d=l(d,u),i=function(){d(T)}):(n=!0,s=m.createTextNode(""),new g(T).observe(s,{characterData:!0}),i=function(){s.data=n=!n}),A=function(t){S.head||i(),S.add(t)}}t.exports=A},2003:(t,e,r)=>{"use strict";var i=r(6518),n=r(6395),s=r(916).CONSTRUCTOR,o=r(550),a=r(7751),u=r(4901),c=r(6840),l=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(t){return this.then(void 0,t)}}),!n&&u(o)){var d=a("Promise").prototype.catch;l.catch!==d&&c(l,"catch",d,{unsafe:!0})}},2087:(t,e,r)=>{"use strict";var i=r(34),n=Math.floor;t.exports=Number.isInteger||function(t){return!i(t)&&isFinite(t)&&n(t)===t}},2106:(t,e,r)=>{"use strict";var i=r(283),n=r(4913);t.exports=function(t,e,r){return r.get&&i(r.get,e,{getter:!0}),r.set&&i(r.set,e,{setter:!0}),n.f(t,e,r)}},2140:(t,e,r)=>{"use strict";var i={};i[r(8227)("toStringTag")]="z",t.exports="[object z]"===String(i)},2195:(t,e,r)=>{"use strict";var i=r(9504),n=i({}.toString),s=i("".slice);t.exports=function(t){return s(n(t),8,-1)}},2211:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},2293:(t,e,r)=>{"use strict";var i=r(8551),n=r(5548),s=r(4117),o=r(8227)("species");t.exports=function(t,e){var r,a=i(t).constructor;return void 0===a||s(r=i(a)[o])?e:n(r)}},2357:(t,e,r)=>{"use strict";var i=r(3724),n=r(9039),s=r(9504),o=r(2787),a=r(1072),u=r(5397),c=s(r(8773).f),l=s([].push),d=i&&n(function(){var t=Object.create(null);return t[2]=2,!c(t,2)}),h=function(t){return function(e){for(var r,n=u(e),s=a(n),h=d&&null===o(n),f=s.length,p=0,v=[];f>p;)r=s[p++],i&&!(h?r in n:c(n,r))||l(v,t?[r,n[r]]:n[r]);return v}};t.exports={entries:h(!0),values:h(!1)}},2360:(t,e,r)=>{"use strict";var i,n=r(8551),s=r(6801),o=r(8727),a=r(421),u=r(397),c=r(4055),l=r(6119),d="prototype",h="script",f=l("IE_PROTO"),p=function(){},v=function(t){return"<"+h+">"+t+"</"+h+">"},y=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;g="undefined"!=typeof document?document.domain&&i?y(i):(e=c("iframe"),r="java"+h+":",e.style.display="none",u.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(v("document.F=Object")),t.close(),t.F):y(i);for(var n=o.length;n--;)delete g[d][o[n]];return g()};a[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p[d]=n(t),r=new p,p[d]=null,r[f]=t):r=g(),void 0===e?r:s.f(r,e)}},2529:t=>{"use strict";t.exports=function(t,e){return{value:t,done:e}}},2645:t=>{"use strict";t.exports={rE:"4.0.2"}},2652:(t,e,r)=>{"use strict";var i=r(6080),n=r(9565),s=r(8551),o=r(6823),a=r(4209),u=r(6198),c=r(1625),l=r(81),d=r(851),h=r(9539),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},v=p.prototype;t.exports=function(t,e,r){var y,g,m,b,E,A,S,T=r&&r.that,w=!(!r||!r.AS_ENTRIES),O=!(!r||!r.IS_RECORD),R=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),D=i(e,T),_=function(t){return y&&h(y,"normal"),new p(!0,t)},x=function(t){return w?(s(t),P?D(t[0],t[1],_):D(t[0],t[1])):P?D(t,_):D(t)};if(O)y=t.iterator;else if(R)y=t;else{if(!(g=d(t)))throw new f(o(t)+" is not iterable");if(a(g)){for(m=0,b=u(t);b>m;m++)if((E=x(t[m]))&&c(v,E))return E;return new p(!1)}y=l(t,g)}for(A=O?t.next:y.next;!(S=n(A,y)).done;){try{E=x(S.value)}catch(t){h(y,"throw",t)}if("object"==typeof E&&E&&c(v,E))return E}return new p(!1)}},2747:(t,e,r)=>{"use strict";r.d(e,{A:()=>a}),r(7495);class i{static error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e,i.Levels.ERROR,"darkred")}static warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e,i.Levels.WARNING,"darkorange")}static notice(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n([].slice.call(arguments),i.Levels.NOTICE,"darkcyan")}static debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];n(e,i.Levels.DEBUG,"indigo")}static debugCommonVideoEvents(t,e,r){try{if(i.level<=i.Levels.DEBUG){r=r||function(t){i.debug("Event: "+t.type)};var n=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart","loadedmetadata"];e&&(null===e[0]?(e.shift(),n=e):n=n.concat(e));for(var s=0;s<n.length;s++)"function"==typeof t?t.call(window,n[s],r):t.on?t.on(n[s],r):t.addEventListener?t.addEventListener(n[s],r):t.addEventHandler?t.addEventHandler(n[s],r):i.warn("debugCommonVideoEvents: No common listener function found for ",t)}}catch(t){i.warn(t)}}}function n(t,e,r){e=e||i.Levels.NOTICE,r=r||"darkcyan";var n,a,u=i.prefix;i.includeTime&&(u+="["+("0"+(n=new Date).getDate()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2)+"."+("00"+n.getMilliseconds()).slice(-3)+"] "),u+=function(t){return o[t]}(e)+":",i.level<=e&&e!==i.Levels.SILENT&&(!i.colorful||"undefined"!=typeof document&&document.documentMode?s(t,u):(a=e===i.Levels.ERROR&&console.error?console.error:e===i.Levels.WARNING&&console.warn?console.warn:e===i.Levels.DEBUG&&console.debug&&null==window.cast?console.debug:console.log,u="%c"+u,t.splice(0,0,u,"color: "+r),a.apply(console,t)))}function s(t,e){if(t instanceof Array)for(var r in t)s(t[r],e);else"string"==typeof t?console.log(e+" "+t):(console.log(e+"â†µ"),console.log(t))}i.Levels={SILENT:5,ERROR:4,WARNING:3,NOTICE:2,DEBUG:1,ALL:0},i.level=i.Levels.ERROR,i.colorful=!0,i.includeTime=!0,i.prefix="[nrvideo]";const o={4:"e",3:"w",2:"n",1:"d"};!function(){if("undefined"!=typeof window&&window.location&&window.location.search){var t=/\?.*&*nrvideo-debug=(.+)/i.exec(window.location.search);null!==t&&("true"===t[1]?i.level=i.Levels.ALL:i.level=t[1]),null!==/\?.*&*nrvideo-colors=false/i.exec(window.location.search)&&(i.colorful=!1)}}();const a=i},2777:(t,e,r)=>{"use strict";var i=r(9565),n=r(34),s=r(757),o=r(5966),a=r(4270),u=r(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!n(t)||s(t))return t;var r,u=o(t,l);if(u){if(void 0===e&&(e="default"),r=i(u,t,e),!n(r)||s(r))return r;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},2787:(t,e,r)=>{"use strict";var i=r(9297),n=r(4901),s=r(8981),o=r(6119),a=r(2211),u=o("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=s(t);if(i(e,u))return e[u];var r=e.constructor;return n(r)&&e instanceof r?r.prototype:e instanceof c?l:null}},2796:(t,e,r)=>{"use strict";var i=r(9039),n=r(4901),s=/#|\.prototype\./,o=function(t,e){var r=u[a(t)];return r===l||r!==c&&(n(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},u=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},2805:(t,e,r)=>{"use strict";var i=r(4576),n=r(9039),s=r(4428),o=r(4644).NATIVE_ARRAY_BUFFER_VIEWS,a=i.ArrayBuffer,u=i.Int8Array;t.exports=!o||!n(function(){u(1)})||!n(function(){new u(-1)})||!s(function(t){new u,new u(null),new u(1.5),new u(t)},!0)||n(function(){return 1!==new u(new a(2),1,void 0).length})},2812:t=>{"use strict";var e=TypeError;t.exports=function(t,r){if(t<r)throw new e("Not enough arguments");return t}},2839:(t,e,r)=>{"use strict";var i=r(4576).navigator,n=i&&i.userAgent;t.exports=n?String(n):""},2953:(t,e,r)=>{"use strict";var i=r(4576),n=r(7400),s=r(9296),o=r(3792),a=r(6699),u=r(687),c=r(8227)("iterator"),l=o.values,d=function(t,e){if(t){if(t[c]!==l)try{a(t,c,l)}catch(e){t[c]=l}if(u(t,e,!0),n[e])for(var r in o)if(t[r]!==o[r])try{a(t,r,o[r])}catch(e){t[r]=o[r]}}};for(var h in n)d(i[h]&&i[h].prototype,h);d(s,"DOMTokenList")},2967:(t,e,r)=>{"use strict";var i=r(6706),n=r(34),s=r(7750),o=r(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=i(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return s(r),o(i),n(r)?(e?t(r,i):r.__proto__=i,r):r}}():void 0)},3138:t=>{"use strict";t.exports=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}}},3164:(t,e,r)=>{"use strict";var i=r(7782),n=r(3602),s=Math.abs;t.exports=function(t,e,r,o){var a=+t,u=s(a),c=i(a);if(u<o)return c*n(u/o/e)*o*e;var l=(1+e/2220446049250313e-31)*u,d=l-(l-u);return d>r||d!=d?c*(1/0):c*d}},3167:(t,e,r)=>{"use strict";var i=r(4901),n=r(34),s=r(2967);t.exports=function(t,e,r){var o,a;return s&&i(o=e.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&s(t,a),t}},3251:(t,e,r)=>{"use strict";var i=r(6080),n=r(9565),s=r(5548),o=r(8981),a=r(6198),u=r(81),c=r(851),l=r(4209),d=r(1108),h=r(4644).aTypedArrayConstructor,f=r(5854);t.exports=function(t){var e,r,p,v,y,g,m,b,E=s(this),A=o(t),S=arguments.length,T=S>1?arguments[1]:void 0,w=void 0!==T,O=c(A);if(O&&!l(O))for(b=(m=u(A,O)).next,A=[];!(g=n(b,m)).done;)A.push(g.value);for(w&&S>2&&(T=i(T,arguments[2])),r=a(A),p=new(h(E))(r),v=d(p),e=0;r>e;e++)y=w?T(A[e],e):A[e],p[e]=v?f(y):+y;return p}},3362:(t,e,r)=>{"use strict";r(436),r(6499),r(2003),r(7743),r(1481),r(280)},3389:(t,e,r)=>{"use strict";var i=r(4576),n=r(3724),s=Object.getOwnPropertyDescriptor;t.exports=function(t){if(!n)return i[t];var e=s(i,t);return e&&e.value}},3392:(t,e,r)=>{"use strict";var i=r(9504),n=0,s=Math.random(),o=i(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++n+s,36)}},3438:(t,e,r)=>{"use strict";var i=r(8551),n=r(34),s=r(6043);t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var r=s.f(t);return(0,r.resolve)(e),r.promise}},3500:(t,e,r)=>{"use strict";var i=r(4576),n=r(7400),s=r(9296),o=r(235),a=r(6699),u=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(e){t.forEach=o}};for(var c in n)n[c]&&u(i[c]&&i[c].prototype);u(s)},3506:(t,e,r)=>{"use strict";var i=r(3925),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s("Can't set "+n(t)+" as a prototype")}},3517:(t,e,r)=>{"use strict";var i=r(9504),n=r(9039),s=r(4901),o=r(6955),a=r(7751),u=r(3706),c=function(){},l=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=i(d.exec),f=!d.test(c),p=function(t){if(!s(t))return!1;try{return l(c,[],t),!0}catch(t){return!1}},v=function(t){if(!s(t))return!1;switch(o(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!h(d,u(t))}catch(t){return!0}};v.sham=!0,t.exports=!l||n(function(){var t;return p(p.call)||!p(Object)||!p(function(){t=!0})||t})?v:p},3602:t=>{"use strict";var e=4503599627370496;t.exports=function(t){return t+e-e}},3607:(t,e,r)=>{"use strict";var i=r(2839).match(/AppleWebKit\/(\d+)\./);t.exports=!!i&&+i[1]},3635:(t,e,r)=>{"use strict";var i=r(9039),n=r(4576).RegExp;t.exports=i(function(){var t=n(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)})},3706:(t,e,r)=>{"use strict";var i=r(9504),n=r(4901),s=r(7629),o=i(Function.toString);n(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},3709:(t,e,r)=>{"use strict";var i=r(2839).match(/firefox\/(\d+)/i);t.exports=!!i&&+i[1]},3717:(t,e)=>{"use strict";e.f=Object.getOwnPropertySymbols},3724:(t,e,r)=>{"use strict";var i=r(9039);t.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3763:(t,e,r)=>{"use strict";var i=r(2839);t.exports=/MSIE|Trident/.test(i)},3792:(t,e,r)=>{"use strict";var i=r(5397),n=r(6469),s=r(6269),o=r(1181),a=r(4913).f,u=r(1088),c=r(2529),l=r(6395),d=r(3724),h="Array Iterator",f=o.set,p=o.getterFor(h);t.exports=u(Array,"Array",function(t,e){f(this,{type:h,target:i(t),index:0,kind:e})},function(){var t=p(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,c(void 0,!0);switch(t.kind){case"keys":return c(r,!1);case"values":return c(e[r],!1)}return c([r,e[r]],!1)},"values");var v=s.Arguments=s.Array;if(n("keys"),n("values"),n("entries"),!l&&d&&"values"!==v.name)try{a(v,"name",{value:"values"})}catch(t){}},3925:(t,e,r)=>{"use strict";var i=r(34);t.exports=function(t){return i(t)||null===t}},3994:(t,e,r)=>{"use strict";var i=r(7657).IteratorPrototype,n=r(2360),s=r(6980),o=r(687),a=r(6269),u=function(){return this};t.exports=function(t,e,r,c){var l=e+" Iterator";return t.prototype=n(i,{next:s(+!c,r)}),o(t,l,!1,!0),a[l]=u,t}},4055:(t,e,r)=>{"use strict";var i=r(4576),n=r(34),s=i.document,o=n(s)&&n(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},4117:t=>{"use strict";t.exports=function(t){return null==t}},4209:(t,e,r)=>{"use strict";var i=r(8227),n=r(6269),s=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[s]===t)}},4215:(t,e,r)=>{"use strict";var i=r(4576),n=r(2839),s=r(2195),o=function(t){return n.slice(0,t.length)===t};t.exports=o("Bun/")?"BUN":o("Cloudflare-Workers")?"CLOUDFLARE":o("Deno/")?"DENO":o("Node.js/")?"NODE":i.Bun&&"string"==typeof Bun.version?"BUN":i.Deno&&"object"==typeof Deno.version?"DENO":"process"===s(i.process)?"NODE":i.window&&i.document?"BROWSER":"REST"},4265:(t,e,r)=>{"use strict";var i=r(2839);t.exports=/ipad|iphone|ipod/i.test(i)&&"undefined"!=typeof Pebble},4270:(t,e,r)=>{"use strict";var i=r(9565),n=r(4901),s=r(34),o=TypeError;t.exports=function(t,e){var r,a;if("string"===e&&n(r=t.toString)&&!s(a=i(r,t)))return a;if(n(r=t.valueOf)&&!s(a=i(r,t)))return a;if("string"!==e&&n(r=t.toString)&&!s(a=i(r,t)))return a;throw new o("Can't convert object to primitive value")}},4373:(t,e,r)=>{"use strict";var i=r(8981),n=r(5610),s=r(6198);t.exports=function(t){for(var e=i(this),r=s(e),o=arguments.length,a=n(o>1?arguments[1]:void 0,r),u=o>2?arguments[2]:void 0,c=void 0===u?r:n(u,r);c>a;)e[a++]=t;return e}},4376:(t,e,r)=>{"use strict";var i=r(2195);t.exports=Array.isArray||function(t){return"Array"===i(t)}},4428:(t,e,r)=>{"use strict";var i=r(8227)("iterator"),n=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){try{if(!e&&!n)return!1}catch(t){return!1}var r=!1;try{var s={};s[i]=function(){return{next:function(){return{done:r=!0}}}},t(s)}catch(t){}return r}},4488:(t,e,r)=>{"use strict";var i=r(7680),n=Math.floor,s=function(t,e){var r=t.length;if(r<8)for(var o,a,u=1;u<r;){for(a=u,o=t[u];a&&e(t[a-1],o)>0;)t[a]=t[--a];a!==u++&&(t[a]=o)}else for(var c=n(r/2),l=s(i(t,0,c),e),d=s(i(t,c),e),h=l.length,f=d.length,p=0,v=0;p<h||v<f;)t[p+v]=p<h&&v<f?e(l[p],d[v])<=0?l[p++]:d[v++]:p<h?l[p++]:d[v++];return t};t.exports=s},4495:(t,e,r)=>{"use strict";var i=r(9519),n=r(9039),s=r(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41})},4576:function(t,e,r){"use strict";var i=function(t){return t&&t.Math===Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4598:(t,e,r)=>{"use strict";var i=r(9039);t.exports=function(t,e){var r=[][t];return!!r&&i(function(){r.call(null,e||function(){return 1},1)})}},4644:(t,e,r)=>{"use strict";var i,n,s,o=r(7811),a=r(3724),u=r(4576),c=r(4901),l=r(34),d=r(9297),h=r(6955),f=r(6823),p=r(6699),v=r(6840),y=r(2106),g=r(1625),m=r(2787),b=r(2967),E=r(8227),A=r(3392),S=r(1181),T=S.enforce,w=S.get,O=u.Int8Array,R=O&&O.prototype,P=u.Uint8ClampedArray,D=P&&P.prototype,_=O&&m(O),x=R&&m(R),L=Object.prototype,I=u.TypeError,k=E("toStringTag"),C=A("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",j=o&&!!b&&"Opera"!==h(u.opera),B=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},H={BigInt64Array:8,BigUint64Array:8},F=function(t){var e=m(t);if(l(e)){var r=w(e);return r&&d(r,N)?r[N]:F(e)}},M=function(t){if(!l(t))return!1;var e=h(t);return d(V,e)||d(H,e)};for(i in V)(s=(n=u[i])&&n.prototype)?T(s)[N]=n:j=!1;for(i in H)(s=(n=u[i])&&n.prototype)&&(T(s)[N]=n);if((!j||!c(_)||_===Function.prototype)&&(_=function(){throw new I("Incorrect invocation")},j))for(i in V)u[i]&&b(u[i],_);if((!j||!x||x===L)&&(x=_.prototype,j))for(i in V)u[i]&&b(u[i].prototype,x);if(j&&m(D)!==x&&b(D,x),a&&!d(x,k))for(i in B=!0,y(x,k,{configurable:!0,get:function(){return l(this)?this[C]:void 0}}),V)u[i]&&p(u[i],C,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:B&&C,aTypedArray:function(t){if(M(t))return t;throw new I("Target is not a typed array")},aTypedArrayConstructor:function(t){if(c(t)&&(!b||g(_,t)))return t;throw new I(f(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,i){if(a){if(r)for(var n in V){var s=u[n];if(s&&d(s.prototype,t))try{delete s.prototype[t]}catch(r){try{s.prototype[t]=e}catch(t){}}}x[t]&&!r||v(x,t,r?e:j&&R[t]||e,i)}},exportTypedArrayStaticMethod:function(t,e,r){var i,n;if(a){if(b){if(r)for(i in V)if((n=u[i])&&d(n,t))try{delete n[t]}catch(t){}if(_[t]&&!r)return;try{return v(_,t,r?e:j&&_[t]||e)}catch(t){}}for(i in V)!(n=u[i])||n[t]&&!r||v(n,t,e)}},getTypedArrayConstructor:F,isView:function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||d(V,e)||d(H,e)},isTypedArray:M,TypedArray:_,TypedArrayPrototype:x}},4659:(t,e,r)=>{"use strict";var i=r(3724),n=r(4913),s=r(6980);t.exports=function(t,e,r){i?n.f(t,e,s(0,r)):t[e]=r}},4715:(t,e,r)=>{var i,n;void 0===(n="function"==typeof(i=function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function e(t,e,r){return e=u(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],u(t).constructor):e.apply(t,r))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,d(i.key),i)}}function s(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(e,r){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,r){if(e){if("string"==typeof e)return t(e,r);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){i&&(e=i);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){i=i.call(e)},n:function(){var t=i.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(u)throw o}}}}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(arguments.length<3?t:r):n.value}},a.apply(null,arguments)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c=function(){return!!t})()}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function d(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}!function(t){t.AbortSignal,t.AbortController}("undefined"!=typeof self?self:r.g);var h=function(){return s(function t(){i(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})},[{key:"addEventListener",value:function(t,e,r){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:r})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var r=this.listeners[t],i=0,n=r.length;i<n;i++)if(r[i].callback===e)return void r.splice(i,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var r=this.listeners[t.type].slice(),i=function(){var i=r[n];try{i.callback.call(e,t)}catch(t){Promise.resolve().then(function(){throw t})}i.options&&i.options.once&&e.removeEventListener(t.type,i.callback)},n=0,s=r.length;n<s;n++)i();return!t.defaultPrevented}}}])}(),f=function(t){function r(){var t;return i(this,r),(t=e(this,r)).listeners||h.call(t),Object.defineProperty(t,"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(t,"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(t,"reason",{value:void 0,writable:!0,configurable:!0}),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(r,t),s(r,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){var e,i,n,s,o;"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),(e=r,i="dispatchEvent",n=this,o=a(u(1&(s=3)?e.prototype:e),i,n),2&s&&"function"==typeof o?function(t){return o.apply(n,t)}:o)([t])}},{key:"throwIfAborted",value:function(){var t=this.aborted,e=this.reason;if(t)throw void 0===e?"Aborted":e}}],[{key:"timeout",value:function(t){var e=new p;return setTimeout(function(){return e.abort(new DOMException("This signal is timeout in ".concat(t,"ms"),"TimeoutError"))},t),e.signal}},{key:"any",value:function(t){var e=new p;function r(){e.abort(this.reason),function(){var e,i=o(t);try{for(i.s();!(e=i.n()).done;)e.value.removeEventListener("abort",r)}catch(t){i.e(t)}finally{i.f()}}()}var i,n=o(t);try{for(n.s();!(i=n.n()).done;){var s=i.value;if(s.aborted){e.abort(s.reason);break}s.addEventListener("abort",r)}}catch(t){n.e(t)}finally{n.f()}return e.signal}}])}(h),p=function(){return s(function t(){i(this,t),Object.defineProperty(this,"signal",{value:new f,writable:!0,configurable:!0})},[{key:"abort",value:function(t){var e=function(t){if(void 0===t)if("undefined"==typeof document)(t=new Error("This operation was aborted")).name="AbortError";else try{t=new DOMException("signal is aborted without reason"),Object.defineProperty(t,"name",{value:"AbortError"})}catch(e){(t=new Error("This operation was aborted")).name="AbortError"}return t}(t),r=function(t){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}return e.reason=t,e}(e);this.signal.reason=e,this.signal.dispatchEvent(r)}},{key:"toString",value:function(){return"[object AbortController]"}}])}();function v(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",f.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(v(t))if(t.fetch){var e=function(t){"function"==typeof t&&(t={fetch:t});var e=t,r=e.fetch,i=e.Request,n=void 0===i?r.Request:i,s=e.AbortController,o=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,a=void 0!==o&&o;if(!v({fetch:r,Request:n,AbortController:s,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:a}))return{fetch:r,Request:u};var u=n;(u&&!u.prototype.hasOwnProperty("signal")||a)&&((u=function(t,e){var r;e&&e.signal&&(r=e.signal,delete e.signal);var i=new n(t,e);return r&&Object.defineProperty(i,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),i}).prototype=n.prototype);var c=r;return{fetch:function(t,e){var r=u&&u.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(r){var i;try{i=new DOMException("Aborted","AbortError")}catch(t){(i=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(i);var n=new Promise(function(t,e){r.addEventListener("abort",function(){return e(i)},{once:!0})});return e&&e.signal&&delete e.signal,Promise.race([n,c(t,e)])}return c(t,e)},Request:u}}(t),r=e.fetch,i=e.Request;t.fetch=r,t.Request=i,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:f})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r.g)})?i.call(e,r,e,t):i)||(t.exports=n)},4901:t=>{"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:(t,e,r)=>{"use strict";var i=r(3724),n=r(5917),s=r(8686),o=r(8551),a=r(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=i?s?function(t,e,r){if(o(t),e=a(e),o(r),"function"==typeof t&&"prototype"===e&&"value"in r&&f in r&&!r[f]){var i=l(t,e);i&&i[f]&&(t[e]=r.value,r={configurable:h in r?r[h]:i[h],enumerable:d in r?r[d]:i[d],writable:!1})}return c(t,e,r)}:c:function(t,e,r){if(o(t),e=a(e),o(r),n)try{return c(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},5031:(t,e,r)=>{"use strict";var i=r(7751),n=r(9504),s=r(8480),o=r(3717),a=r(8551),u=n([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),r=o.f;return r?u(e,r(t)):e}},5044:(t,e,r)=>{"use strict";var i=r(4644),n=r(4373),s=r(5854),o=r(6955),a=r(9565),u=r(9504),c=r(9039),l=i.aTypedArray,d=i.exportTypedArrayMethod,h=u("".slice);d("fill",function(t){var e=arguments.length;l(this);var r="Big"===h(o(this),0,3)?s(t):+t;return a(n,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)},c(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}))},5370:(t,e,r)=>{"use strict";var i=r(6198);t.exports=function(t,e,r){for(var n=0,s=arguments.length>2?r:i(e),o=new t(s);s>n;)o[n]=e[n++];return o}},5397:(t,e,r)=>{"use strict";var i=r(7055),n=r(7750);t.exports=function(t){return i(n(t))}},5414:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>U}),r(1278),r(3362),r(3500);var i=r(2747),n=r(1800),s=r(9180);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r;if(!s.A.VALID_EVENT_TYPES.includes(t))return i.A.warn("Invalid event type provided to recordEvent",{eventType:t}),!1;if(null===(r=window)||void 0===r||null===(r=r.NRVIDEO)||void 0===r||!r.info)return;const o=window.NRVIDEO.info,u=o.appName,c=o.applicationID,l=a(a(a({},e),{},{eventType:t},c?{}:{appName:u}),{},{timestamp:Date.now(),timeSinceLoad:window.performance?window.performance.now()/1e3:null});return n.videoAnalyticsHarvester.addEvent(l)}catch(t){return i.A.error("Failed to record event:",t.message),!1}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(8350),r(237),r(6034);const f=s.A.COLLECTOR;const p=new class{setConfiguration(t){return this.initializeGlobalConfig(t),i.A.notice("Video analytics configuration initialized successfully"),!0}validateRequiredFields(t){if(!t||"object"!=typeof t)return i.A.error("Configuration must be an object"),!1;const e=t.licenseKey,r=t.appName,n=t.region,s=t.applicationID,o=t.beacon;if(!e)return i.A.error("licenseKey is required"),!1;if(s){if(!o)return i.A.error("beacon is required when applicationID is provided"),!1;if(!Object.values(f).flatMap(t=>t).includes(o))return i.A.error(`Invalid beacon: ${o}`),!1}else{if(!r||!n)return i.A.error("appName and region are required when applicationID is not provided"),!1;if(!f[n])return i.A.error(`Invalid region: ${n}. Valid regions are: ${Object.keys(f).join(", ")}`),!1}return!0}initializeGlobalConfig(t){if(!this.validateRequiredFields(t))return;let e=t.licenseKey,r=t.appName,i=t.region,n=t.beacon,o=t.applicationID;n="US"===i?s.A.COLLECTOR.US[0]:n||f[i],window.NRVIDEO={info:d(d({},i?{region:i}:{}),{},{beacon:n,licenseKey:e,applicationID:o},o?{}:{appName:r})}}};function v(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(i,n)}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach(function(e){m(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function m(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class b{static addTracker(t,e){var r;null!=e&&e.info&&(r=e.info,p.setConfiguration(r)),t.on&&t.emit?(E.push(t),t.on("*",A),"function"==typeof t.trackerInit&&t.trackerInit()):i.A.error("Tried to load a non-tracker.",t)}static removeTracker(t){t.off("*",A),t.dispose();let e=E.indexOf(t);-1!==e&&E.splice(e,1)}static getTrackers(){return E}static send(t,e,r){return c(t,g({actionName:e},r))}static sendError(t){return c("VideoErrorAction",g({actionName:"ERROR"},t))}static forceHarvest(){return(t=function*(){try{const t=r(1800).videoAnalyticsHarvester;return yield t.forceHarvest()}catch(t){return i.A.error("Failed to force harvest:",t.message),{success:!1,error:t.message}}},function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(t){v(s,i,n,o,a,"next",t)}function a(t){v(s,i,n,o,a,"throw",t)}o(void 0)})})();var t}}let E=[];function A(t){try{let e=function(t){let e={};for(let r in t)null!==t[r]&&void 0!==t[r]&&(e[r]=t[r]);return e}(t.data);i.A.level<=i.A.Levels.DEBUG?i.A.notice("Sent",t.type,e):i.A.notice("Sent",t.type),b.send(t.eventType,t.type,e)}catch(t){i.A.error("Error in event handler:",t.message)}}const S=b;class T{constructor(){this.reset()}reset(){this.startTime=0,this.stopTime=0,this.offset=0}getDeltaTime(){return this.startTime?this.offset+((new Date).getTime()-this.startTime):null}start(){this.startTime=(new Date).getTime(),this.stopTime=0}stop(){return this.stopTime=(new Date).getTime(),this.getDeltaTime()}clone(){var t=new T;return t.startTime=this.startTime,t.stopTime=this.stopTime,t.offset=this.offset,t}}const w=T,O=class{on(t,e){if(this._listeners=this._listeners||{},"function"==typeof e)return this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e),this}off(t,e){if(this._listeners=this._listeners||{},this._listeners[t]){var r=this._listeners[t].indexOf(e);-1!==r&&this._listeners[t].splice(r,1)}return this}emit(t,e,r){return this._listeners=this._listeners||{},r=r||{},Array.isArray(this._listeners[e])&&this._listeners[e].forEach(i=>{i.call(this,{eventType:t,type:e,data:r,target:this})}),Array.isArray(this._listeners["*"])&&this._listeners["*"].forEach(i=>{i.call(this,{eventType:t,type:e,data:r,target:this})}),this}};var R=r(2645);class P extends O{constructor(t){super(),this.customData={},this.heartbeat=null,this.parentTracker=null,this._trackerReadyChrono=new w,this._trackerReadyChrono.start(),this._actionTable=s.A.ACTION_TABLE,this._actionAdTable=s.A.ACTION_AD_TABLE,t=t||{},this.setOptions(t)}setOptions(t){t&&(t.parentTracker&&(this.parentTracker=t.parentTracker),t.customData&&(this.customData=t.customData),t.heartbeat&&(this.heartbeat=t.heartbeat))}dispose(){this.unregisterListeners()}registerListeners(){}unregisterListeners(){}getHeartbeat(){return this.state._isAd?2e3:this.heartbeat?this.heartbeat:this.parentTracker&&this.parentTracker.heartbeat?this.parentTracker.heartbeat:3e4}startHeartbeat(){this._heartbeatInterval=setInterval(this.sendHeartbeat.bind(this),Math.max(this.getHeartbeat(),2e3))}stopHeartbeat(){this._heartbeatInterval&&clearInterval(this._heartbeatInterval)}sendHeartbeat(t){this.sendVideoAction(P.Events.HEARTBEAT,t)}getAttributes(t,e){(t=t||{}).trackerName=this.getTrackerName(),t.trackerVersion=this.getTrackerVersion(),t.coreVersion=R.rE,t.timeSinceTrackerReady=this._trackerReadyChrono.getDeltaTime();for(let e in this.customData)t[e]=this.customData[e];return null!=document.hidden&&(t.isBackgroundEvent=document.hidden),t}getTrackerVersion(){return R.rE}getTrackerName(){return"base-tracker"}sendVideoAction(t,e){this.emit("VideoAction",t,this.getAttributes(e))}sendVideoAdAction(t,e){this.emit("VideoAdAction",t,this.getAttributes(e))}sendVideoErrorAction(t,e){let r=this.isAd()?"adError":"videoError";this.emit("VideoErrorAction",t,this.getAttributes(e,r))}sendVideoCustomAction(t,e){this.emit("VideoCustomAction",t,this.getAttributes(e,"customAction"))}setHarvestInterval(t){if(n.videoAnalyticsHarvester)try{n.videoAnalyticsHarvester.setHarvestInterval(t)}catch(t){return void i.A.error("Failed to set harvest interval:",t.message)}else i.A.error("VideoAnalyticsHarvester is not available")}}P.Events={HEARTBEAT:"HEARTBEAT"};const D=P;function _(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var i,n,s,o,a=[],u=!0,c=!1;try{if(s=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(i=s.call(r)).done)&&(a.push(i.value),a.length!==e);u=!0);}catch(t){c=!0,n=t}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}r(9463),r(3792),r(5506),r(7495),r(2953);const L=class{constructor(){this.reset(),this._createdAt=Date.now(),this._hb=!0,this._acc=0,this._bufferAcc=0}reset(){this._viewSession=null,this._viewCount=0,this._isAd=!1,this.numberOfErrors=0,this.numberOfAds=0,this.numberOfVideos=0,this.totalPlaytime=0,this.totalAdPlaytime=0,this.isAdBreak=!1,this.initialBufferingHappened=!1,this.resetFlags(),this.resetChronos()}resetFlags(){this.isPlayerReady=!1,this.isRequested=!1,this.isStarted=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isPlaying=!1}resetChronos(){this.timeSinceRequested=new w,this.timeSinceStarted=new w,this.timeSincePaused=new w,this.timeSinceSeekBegin=new w,this.timeSinceBufferBegin=new w,this.timeSinceAdBreakStart=new w,this.timeSinceLastDownload=new w,this.timeSinceLastHeartbeat=new w,this.timeSinceLastRenditionChange=new w,this.timeSinceLastAdQuartile=new w,this.timeSinceLastAd=new w,this.timeSinceLastError=new w,this.timeSinceLastAdError=new w,this.timeSinceResumed=new w,this.timeSinceSeekEnd=new w,this.playtimeSinceLastEvent=new w,this.customTimeSinceAttributes={},this.elapsedTime=new w,this.bufferElapsedTime=new w}isAd(){return this._isAd}setIsAd(t){this._isAd=t}setTimeSinceAttribute(t){this.customTimeSinceAttributes[t]=new w,this.customTimeSinceAttributes[t].start()}removeTimeSinceAttribute(t){delete this.customTimeSinceAttributes[t]}getViewSession(){if(!this._viewSession){let t=(new Date).getTime(),e=Math.random().toString(36).substring(2)+Math.random().toString(36).substring(2);this._viewSession=t+"-"+e}return this._viewSession}getViewId(){return this.getViewSession()+"-"+this._viewCount}getStateAttributes(t){t=t||{},this.isAd()?(this.isRequested&&(t.timeSinceAdRequested=this.timeSinceRequested.getDeltaTime(),t.timeSinceLastAdHeartbeat=this.timeSinceLastHeartbeat.getDeltaTime()),this.isStarted&&(t.timeSinceAdStarted=this.timeSinceStarted.getDeltaTime()),this.isPaused&&(t.timeSinceAdPaused=this.timeSincePaused.getDeltaTime()),this.isBuffering&&(t.timeSinceAdBufferBegin=this.timeSinceBufferBegin.getDeltaTime()),this.isSeeking&&(t.timeSinceAdSeekBegin=this.timeSinceSeekBegin.getDeltaTime()),this.isAdBreak&&(t.timeSinceAdBreakBegin=this.timeSinceAdBreakStart.getDeltaTime()),this.numberOfErrors>0&&this.timeSinceLastAdError.startTime>0&&(t.timeSinceLastAdError=this.timeSinceLastAdError.getDeltaTime()),t.numberOfAds=this.numberOfAds):(this.isRequested&&(t.timeSinceRequested=this.timeSinceRequested.getDeltaTime(),t.timeSinceLastHeartbeat=this.timeSinceLastHeartbeat.getDeltaTime()),this.isStarted&&(t.timeSinceStarted=this.timeSinceStarted.getDeltaTime()),this.isPaused&&(t.timeSincePaused=this.timeSincePaused.getDeltaTime()),this.isBuffering&&(t.timeSinceBufferBegin=this.timeSinceBufferBegin.getDeltaTime()),this.isSeeking&&(t.timeSinceSeekBegin=this.timeSinceSeekBegin.getDeltaTime()),t.timeSinceLastAd=this.timeSinceLastAd.getDeltaTime(),this.numberOfErrors>0&&this.timeSinceLastError.startTime>0&&(t.timeSinceLastError=this.timeSinceLastError.getDeltaTime()),t.numberOfVideos=this.numberOfVideos),t.numberOfErrors=this.numberOfErrors,this.isAd()||(this.playtimeSinceLastEvent.startTime>0?t.playtimeSinceLastEvent=this.playtimeSinceLastEvent.getDeltaTime():t.playtimeSinceLastEvent=0,this.isPlaying?this.playtimeSinceLastEvent.start():this.playtimeSinceLastEvent.reset(),this.totalPlaytime+=t.playtimeSinceLastEvent,t.totalPlaytime=this.totalPlaytime);for(var e=0,r=Object.entries(this.customTimeSinceAttributes);e<r.length;e++){const i=_(r[e],2),n=i[0],s=i[1];t[n]=s.getDeltaTime()}return t}calculateBufferType(t){let e="";return e=t?"initial":this.isSeeking?"seek":this.isPaused?"pause":"connection",i.A.debug("Buffer Type = "+e),e}goViewCountUp(){this._viewCount++}goPlayerReady(){return!this.isPlayerReady&&(this.isPlayerReady=!0,!0)}goRequest(){return!this.isRequested&&(this.isRequested=!0,this.timeSinceLastAd.reset(),this.timeSinceRequested.start(),!0)}goStart(){return!(!this.isRequested||this.isStarted||(this.isAd()?this.numberOfAds++:this.numberOfVideos++,this.isStarted=!0,this.isPlaying=!0,this.timeSinceStarted.start(),this.playtimeSinceLastEvent.start(),0))}goEnd(){return!!this.isRequested&&(this.numberOfErrors=0,this.resetFlags(),this.timeSinceRequested.stop(),this.timeSinceStarted.stop(),this.playtimeSinceLastEvent.stop(),!0)}goPause(){return!(!this.isStarted||this.isPaused||(this.isPaused=!0,this.isPlaying=!1,this.timeSincePaused.start(),this.playtimeSinceLastEvent.stop(),this.timeSinceResumed.reset(),this.isBuffering&&(this._bufferAcc+=this.bufferElapsedTime.getDeltaTime()),this.elapsedTime.start(),0))}goResume(){return!(!this.isStarted||!this.isPaused||(this.isPaused=!1,this.isPlaying=!0,this.timeSincePaused.stop(),this.timeSinceResumed.start(),this._hb?(this._acc=this.elapsedTime.getDeltaTime(),this._hb=!1):(this.isBuffering&&this.bufferElapsedTime.start(),this._acc+=this.elapsedTime.getDeltaTime()),0))}goBufferStart(){return!(!this.isRequested||this.isBuffering||(this.isBuffering=!0,this.isPlaying=!1,this.timeSinceBufferBegin.start(),this.bufferElapsedTime.start(),0))}goBufferEnd(){return!(!this.isRequested||!this.isBuffering||(this.isBuffering=!1,this.isPlaying=!0,this.timeSinceBufferBegin.stop(),this._hb?(this._bufferAcc=this.bufferElapsedTime.getDeltaTime(),this._hb=!1):this._bufferAcc+=this.bufferElapsedTime.getDeltaTime(),0))}goSeekStart(){return!(!this.isStarted||this.isSeeking||(this.isSeeking=!0,this.isPlaying=!1,this.timeSinceSeekBegin.start(),this.timeSinceSeekEnd.reset(),0))}goSeekEnd(){return!(!this.isStarted||!this.isSeeking||(this.isSeeking=!1,this.isPlaying=!0,this.timeSinceSeekBegin.stop(),this.timeSinceSeekEnd.start(),0))}goAdBreakStart(){return!this.isAdBreak&&(this.isAdBreak=!0,this.timeSinceAdBreakStart.start(),!0)}goAdBreakEnd(){return!!this.isAdBreak&&(this.isRequested=!1,this.isAdBreak=!1,this.totalAdPlaytime=this.timeSinceAdBreakStart.getDeltaTime(),this.timeSinceAdBreakStart.stop(),!0)}goDownload(){this.timeSinceLastDownload.start()}goHeartbeat(){this.timeSinceLastHeartbeat.start()}goRenditionChange(){this.timeSinceLastRenditionChange.start()}goAdQuartile(){this.timeSinceLastAdQuartile.start()}goError(){this.isError=!0,this.numberOfErrors++,this.isAd()?this.timeSinceLastAdError.start():this.timeSinceLastError.start()}goLastAd(){this.timeSinceLastAd.start()}};function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach(function(e){C(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function C(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class N extends D{constructor(t,e){super(),this.state=new L,this.adsTracker=null,this._lastBufferType=null,this._userId=null,e=e||{},this.setOptions(e),t&&this.setPlayer(t,e.tag),i.A.notice("Tracker "+this.getTrackerName()+" v"+this.getTrackerVersion()+" is ready.")}setUserId(t){this._userId=t}setOptions(t){t&&(t.adsTracker&&this.setAdsTracker(t.adsTracker),"boolean"==typeof t.isAd&&this.setIsAd(t.isAd),D.prototype.setOptions.apply(this,arguments))}setPlayer(t,e){(this.player||this.tag)&&this.dispose(),"undefined"!=typeof document&&document.getElementById&&("string"==typeof t&&(t=document.getElementById(t)),"string"==typeof e&&(e=document.getElementById(e))),e=e||t,this.player=t,this.tag=e,this.registerListeners()}isAd(){return this.state.isAd()}setIsAd(t){this.state.setIsAd(t)}setAdsTracker(t){this.disposeAdsTracker(),t&&(this.adsTracker=t,this.adsTracker.setIsAd(!0),this.adsTracker.parentTracker=this,this.adsTracker.on("*",j.bind(this)))}disposeAdsTracker(){this.adsTracker&&(this.adsTracker.off("*",j),this.adsTracker.dispose())}dispose(){this.stopHeartbeat(),this.disposeAdsTracker(),this.unregisterListeners(),this.player=null,this.tag=null}registerListeners(){}unregisterListeners(){}getViewId(){return this.parentTracker?this.parentTracker.getViewId():this.state.getViewId()}getViewSession(){return this.parentTracker?this.parentTracker.getViewSession():this.state.getViewSession()}getVideoId(){return null}getTitle(){return null}isLive(){return null}getBitrate(){return null}getWebkitBitrate(){if(this.tag&&this.tag.webkitVideoDecodedByteCount){let t;if(this._lastWebkitBitrate){t=this.tag.webkitVideoDecodedByteCount;let e=t-this._lastWebkitBitrate,r=this.getHeartbeat()/1e3;t=Math.round(e/r*8)}return this._lastWebkitBitrate=this.tag.webkitVideoDecodedByteCount,t||null}}getRenditionName(){return null}getRenditionBitrate(){return null}getRenditionShift(t){let e,r=this.getRenditionBitrate();return this.isAd()?(e=this._lastAdRendition,t&&(this._lastAdRendition=r)):(e=this._lastRendition,t&&(this._lastRendition=r)),r&&e?r>e?"up":r<e?"down":null:null}getRenditionHeight(){return this.tag?this.tag.videoHeight:null}getRenditionWidth(){return this.tag?this.tag.videoWidth:null}getDuration(){return this.tag?this.tag.duration:null}getPlayhead(){return this.tag?this.tag.currentTime:null}getLanguage(){return null}getSrc(){return this.tag?this.tag.currentSrc:null}getPlayrate(){return this.tag?this.tag.playbackRate:null}isMuted(){return this.tag?this.tag.muted:null}isFullscreen(){return null}getCdn(){return null}getPlayerName(){return this.getTrackerName()}getPlayerVersion(){return R.rE}getFps(){return null}isAutoplayed(){return this.tag?this.tag.autoplay:null}getPreload(){return this.tag?this.tag.preload:null}getAdQuartile(){return null}getAdPosition(){return this.parentTracker?this.parentTracker.state.isStarted?"mid":"pre":null}getAdPartner(){return null}getAdCreativeId(){return null}getInstrumentationProvider(){return null}getInstrumentationName(){return null}getInstrumentationVersion(){return null}getAttributes(t,e){if(void 0===(t=D.prototype.getAttributes.apply(this,arguments)).isAd&&(t.isAd=this.isAd()),t.viewSession=this.getViewSession(),t.viewId=this.getViewId(),t.playerName=this.getPlayerName(),t.playerVersion=this.getPlayerVersion(),t["instrumentation.provider"]=this.getInstrumentationProvider(),t["instrumentation.name"]=this.getInstrumentationName(),t["instrumentation.version"]=this.getInstrumentationVersion(),t["enduser.id"]=this._userId,t.src="Browser","customAction"===e)return t;try{t.pageUrl=window.location.href}catch(t){}this.isAd()?(t.adId=this.getVideoId(),t.adTitle=this.getTitle(),t.adSrc=this.getSrc(),t.adCdn=this.getCdn(),t.adBitrate=this.getBitrate()||this.getWebkitBitrate()||this.getRenditionBitrate(),t.adRenditionName=this.getRenditionName(),t.adRenditionBitrate=this.getRenditionBitrate(),t.adRenditionHeight=this.getRenditionHeight(),t.adRenditionWidth=this.getRenditionWidth(),t.adDuration=this.getDuration(),t.adPlayhead=this.getPlayhead(),t.adLanguage=this.getLanguage(),t.adIsMuted=this.isMuted(),t.adFps=this.getFps(),t.adPosition=this.getAdPosition(),t.adCreativeId=this.getAdCreativeId(),t.adPartner=this.getAdPartner()):(t.contentId=this.getVideoId(),t.contentTitle=this.getTitle(),t.contentSrc=this.getSrc(),t.contentCdn=this.getCdn(),t.contentPlayhead=this.getPlayhead(),t.contentIsLive=this.isLive(),t.contentBitrate=this.getBitrate()||this.getWebkitBitrate()||this.getRenditionBitrate(),t.contentRenditionName=this.getRenditionName(),t.contentRenditionBitrate=this.getRenditionBitrate(),t.contentRenditionHeight=this.getRenditionHeight(),t.contentRenditionWidth=this.getRenditionWidth(),t.contentDuration=this.getDuration(),t.contentLanguage=this.getLanguage(),t.contentPlayrate=this.getPlayrate(),t.contentIsFullscreen=this.isFullscreen(),t.contentIsMuted=this.isMuted(),t.contentIsAutoplayed=this.isAutoplayed(),t.contentPreload=this.getPreload(),t.contentFps=this.getFps(),null!=this.adsTracker&&this.adsTracker.state.totalAdPlaytime>0&&(t.totalAdPlaytime=this.adsTracker.state.totalAdPlaytime)),this.state.getStateAttributes(t);for(let e in this.customData)t[e]=this.customData[e];return t}sendCustom(t,e,r){r=r||{},this.sendVideoCustomAction(t,r),this.state.setTimeSinceAttribute(e)}sendPlayerReady(t){this.state.goPlayerReady()&&(t=t||{},this.sendVideoAction(N.Events.PLAYER_READY,t))}sendRequest(t){if(this.state.goRequest()){let e;this.isAd()?(e=N.Events.AD_REQUEST,this.sendVideoAdAction(e,t)):(e=N.Events.CONTENT_REQUEST,this.sendVideoAction(e,t))}}sendStart(t){if(this.state.goStart()){let e;this.isAd()?(e=N.Events.AD_START,this.parentTracker&&(this.parentTracker.state.isPlaying=!1),this.sendVideoAdAction(e,t)):(e=N.Events.CONTENT_START,this.sendVideoAction(e,t)),this.startHeartbeat(),this.state.goHeartbeat()}}sendEnd(t){if(this.state.goEnd()){let e;t=t||{},this.isAd()?(e=N.Events.AD_END,t.timeSinceAdRequested=this.state.timeSinceRequested.getDeltaTime(),t.timeSinceAdStarted=this.state.timeSinceStarted.getDeltaTime(),this.parentTracker&&(this.parentTracker.state.isPlaying=!0)):(e=N.Events.CONTENT_END,t.timeSinceRequested=this.state.timeSinceRequested.getDeltaTime(),t.timeSinceStarted=this.state.timeSinceStarted.getDeltaTime()),this.stopHeartbeat(),this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t),this.parentTracker&&this.isAd()&&this.parentTracker.state.goLastAd(),this.state.goViewCountUp(),this.state.totalPlaytime=0}}sendPause(t){if(this.state.goPause()){let e=this.isAd()?N.Events.AD_PAUSE:N.Events.CONTENT_PAUSE;this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t)}}sendResume(t){if(this.state.goResume()){let e;t=t||{},this.isAd()?(e=N.Events.AD_RESUME,t.timeSinceAdPaused=this.state.timeSincePaused.getDeltaTime()):(e=N.Events.CONTENT_RESUME,t.timeSincePaused=this.state.timeSincePaused.getDeltaTime()),this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t)}}sendBufferStart(t){if(this.state.goBufferStart()){let e;t=t||{},e=this.isAd()?N.Events.AD_BUFFER_START:N.Events.CONTENT_BUFFER_START,t=this.buildBufferAttributes(t),this._lastBufferType=t.bufferType,this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t)}}sendBufferEnd(t){if(this.state.goBufferEnd()){let e;t=t||{},this.isAd()?(e=N.Events.AD_BUFFER_END,t.timeSinceAdBufferBegin=this.state.timeSinceBufferBegin.getDeltaTime()):(e=N.Events.CONTENT_BUFFER_END,t.timeSinceBufferBegin=this.state.timeSinceBufferBegin.getDeltaTime()),t=this.buildBufferAttributes(t),null!=this._lastBufferType&&(t.bufferType=this._lastBufferType),this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t),this.state.initialBufferingHappened=!0}}buildBufferAttributes(t){return null==t.timeSinceStarted||t.timeSinceStarted<100?t.isInitialBuffering=!this.state.initialBufferingHappened:t.isInitialBuffering=!1,t.bufferType=this.state.calculateBufferType(t.isInitialBuffering),t.timeSinceResumed=this.state.timeSinceResumed.getDeltaTime(),t.timeSinceSeekEnd=this.state.timeSinceSeekEnd.getDeltaTime(),t}sendSeekStart(t){if(this.state.goSeekStart()){let e;e=this.isAd()?N.Events.AD_SEEK_START:N.Events.CONTENT_SEEK_START,this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t)}}sendSeekEnd(t){if(this.state.goSeekEnd()){let e;t=t||{},this.isAd()?(e=N.Events.AD_SEEK_END,t.timeSinceAdSeekBegin=this.state.timeSinceSeekBegin.getDeltaTime()):(e=N.Events.CONTENT_SEEK_END,t.timeSinceSeekBegin=this.state.timeSinceSeekBegin.getDeltaTime()),this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t)}}sendDownload(t){(t=t||{}).state||i.A.warn("Called sendDownload without { state: xxxxx }."),this.sendVideoAction(N.Events.DOWNLOAD,t),this.state.goDownload()}sendError(t){(t=t||{}).isAd=this.isAd(),this.state.goError();let e=this.isAd()?N.Events.AD_ERROR:N.Events.CONTENT_ERROR;this.sendVideoErrorAction(e,t)}sendRenditionChanged(t){let e;(t=t||{}).timeSinceLastRenditionChange=this.state.timeSinceLastRenditionChange.getDeltaTime(),t.shift=this.getRenditionShift(!0),e=this.isAd()?N.Events.AD_RENDITION_CHANGE:N.Events.CONTENT_RENDITION_CHANGE,this.isAd()?this.sendVideoAdAction(e,t):this.sendVideoAction(e,t),this.state.goRenditionChange()}sendHeartbeat(t){if(this.state.isRequested){let e,r=this.getHeartbeat();this.state._hb=!0,r=this.adjustElapsedTimeForPause(r),this.isAd()?(e=N.Events.AD_HEARTBEAT,"bitmovin-ads"===this.getPlayerName()?this.sendVideoAdAction(e,t):this.sendVideoAdAction(e,k({elapsedTime:r},t))):(e=N.Events.CONTENT_HEARTBEAT,this.sendVideoAction(e,k({elapsedTime:r},t))),this.state.goHeartbeat()}}adjustElapsedTimeForPause(t){return this.state._acc&&(t-=this.state._acc,this.state._acc=0),this.state.isPaused&&((t-=this.state.elapsedTime.getDeltaTime())<10&&(t=0),this.state.elapsedTime.start()),this.state._bufferAcc?(t-=this.state._bufferAcc,this.state._bufferAcc=0):this.state.isBuffering&&((t-=this.state.bufferElapsedTime.getDeltaTime())<5&&(t=0),this.state.bufferElapsedTime.start()),Math.max(0,t)}sendAdBreakStart(t){this.isAd()&&this.state.goAdBreakStart()&&(this.state.totalAdPlaytime=0,this.parentTracker&&(this.parentTracker.state.isPlaying=!1),this.sendVideoAdAction(N.Events.AD_BREAK_START,t))}sendAdBreakEnd(t){this.isAd()&&this.state.goAdBreakEnd()&&((t=t||{}).timeSinceAdBreakBegin=this.state.timeSinceAdBreakStart.getDeltaTime(),this.sendVideoAdAction(N.Events.AD_BREAK_END,t),this.parentTracker&&(this.parentTracker.state.isPlaying=!0),this.stopHeartbeat(),this.parentTracker&&this.isAd()&&this.parentTracker.state.goLastAd())}sendAdQuartile(t){this.isAd()&&((t=t||{}).quartile||i.A.warn("Called sendAdQuartile without { quartile: xxxxx }."),t.timeSinceLastAdQuartile=this.state.timeSinceLastAdQuartile.getDeltaTime(),this.sendVideoAdAction(N.Events.AD_QUARTILE,t),this.state.goAdQuartile())}sendAdClick(t){this.isAd()&&((t=t||{}).url||i.A.warn("Called sendAdClick without { url: xxxxx }."),this.sendVideoAdAction(N.Events.AD_CLICK,t))}}function j(t){t.type!==N.Events.AD_ERROR?this.sendVideoAdAction(t.type,t.data):this.sendVideoErrorAction(t.type,t.data)}N.Events={PLAYER_READY:"PLAYER_READY",DOWNLOAD:"DOWNLOAD",ERROR:"ERROR",CONTENT_REQUEST:"CONTENT_REQUEST",CONTENT_START:"CONTENT_START",CONTENT_END:"CONTENT_END",CONTENT_PAUSE:"CONTENT_PAUSE",CONTENT_RESUME:"CONTENT_RESUME",CONTENT_SEEK_START:"CONTENT_SEEK_START",CONTENT_SEEK_END:"CONTENT_SEEK_END",CONTENT_BUFFER_START:"CONTENT_BUFFER_START",CONTENT_BUFFER_END:"CONTENT_BUFFER_END",CONTENT_HEARTBEAT:"CONTENT_HEARTBEAT",CONTENT_RENDITION_CHANGE:"CONTENT_RENDITION_CHANGE",CONTENT_ERROR:"CONTENT_ERROR",AD_REQUEST:"AD_REQUEST",AD_START:"AD_START",AD_END:"AD_END",AD_PAUSE:"AD_PAUSE",AD_RESUME:"AD_RESUME",AD_SEEK_START:"AD_SEEK_START",AD_SEEK_END:"AD_SEEK_END",AD_BUFFER_START:"AD_BUFFER_START",AD_BUFFER_END:"AD_BUFFER_END",AD_HEARTBEAT:"AD_HEARTBEAT",AD_RENDITION_CHANGE:"AD_RENDITION_CHANGE",AD_ERROR:"AD_ERROR",AD_BREAK_START:"AD_BREAK_START",AD_BREAK_END:"AD_BREAK_END",AD_QUARTILE:"AD_QUARTILE",AD_CLICK:"AD_CLICK"};const B=N;var V=r(9920),H=r(8262),F=r(547),M=r(7907);const U={Constants:s.A,Chrono:w,Log:i.A,Emitter:O,Tracker:D,VideoTracker:B,VideoTrackerState:L,Core:S,version:R.rE,NrVideoEventAggregator:V.t,RetryQueueHandler:H.u,OptimizedHttpClient:F.X,HarvestScheduler:M.n,recordEvent:c}},5506:(t,e,r)=>{"use strict";var i=r(6518),n=r(2357).entries;i({target:"Object",stat:!0},{entries:function(t){return n(t)}})},5548:(t,e,r)=>{"use strict";var i=r(3517),n=r(6823),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not a constructor")}},5610:(t,e,r)=>{"use strict";var i=r(1291),n=Math.max,s=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):s(r,e)}},5617:(t,e,r)=>{"use strict";var i=r(3164);t.exports=Math.fround||function(t){return i(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},5745:(t,e,r)=>{"use strict";var i=r(7629);t.exports=function(t,e){return i[t]||(i[t]=e||{})}},5823:(t,e,r)=>{"use strict";var i=r(6518),n=r(4576),s=r(9565),o=r(3724),a=r(2805),u=r(4644),c=r(6346),l=r(679),d=r(6980),h=r(6699),f=r(2087),p=r(8014),v=r(7696),y=r(8229),g=r(8319),m=r(6969),b=r(9297),E=r(6955),A=r(34),S=r(757),T=r(2360),w=r(1625),O=r(2967),R=r(8480).f,P=r(3251),D=r(9213).forEach,_=r(7633),x=r(2106),L=r(4913),I=r(7347),k=r(5370),C=r(1181),N=r(3167),j=C.get,B=C.set,V=C.enforce,H=L.f,F=I.f,M=n.RangeError,U=c.ArrayBuffer,Q=U.prototype,z=c.DataView,q=u.NATIVE_ARRAY_BUFFER_VIEWS,W=u.TYPED_ARRAY_TAG,G=u.TypedArray,K=u.TypedArrayPrototype,Y=u.isTypedArray,$="BYTES_PER_ELEMENT",X="Wrong length",J=function(t,e){x(t,e,{configurable:!0,get:function(){return j(this)[e]}})},Z=function(t){var e;return w(Q,t)||"ArrayBuffer"===(e=E(t))||"SharedArrayBuffer"===e},tt=function(t,e){return Y(t)&&!S(e)&&e in t&&f(+e)&&e>=0},et=function(t,e){return e=m(e),tt(t,e)?d(2,t[e]):F(t,e)},rt=function(t,e,r){return e=m(e),!(tt(t,e)&&A(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?H(t,e,r):(t[e]=r.value,t)};o?(q||(I.f=et,L.f=rt,J(K,"buffer"),J(K,"byteOffset"),J(K,"byteLength"),J(K,"length")),i({target:"Object",stat:!0,forced:!q},{getOwnPropertyDescriptor:et,defineProperty:rt}),t.exports=function(t,e,r){var o=t.match(/\d+/)[0]/8,u=t+(r?"Clamped":"")+"Array",c="get"+t,d="set"+t,f=n[u],m=f,b=m&&m.prototype,E={},S=function(t,e){H(t,e,{get:function(){return function(t,e){var r=j(t);return r.view[c](e*o+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var n=j(t);n.view[d](e*o+n.byteOffset,r?g(i):i,!0)}(this,e,t)},enumerable:!0})};q?a&&(m=e(function(t,e,r,i){return l(t,b),N(A(e)?Z(e)?void 0!==i?new f(e,y(r,o),i):void 0!==r?new f(e,y(r,o)):new f(e):Y(e)?k(m,e):s(P,m,e):new f(v(e)),t,m)}),O&&O(m,G),D(R(f),function(t){t in m||h(m,t,f[t])}),m.prototype=b):(m=e(function(t,e,r,i){l(t,b);var n,a,u,c=0,d=0;if(A(e)){if(!Z(e))return Y(e)?k(m,e):s(P,m,e);n=e,d=y(r,o);var h=e.byteLength;if(void 0===i){if(h%o)throw new M(X);if((a=h-d)<0)throw new M(X)}else if((a=p(i)*o)+d>h)throw new M(X);u=a/o}else u=v(e),n=new U(a=u*o);for(B(t,{buffer:n,byteOffset:d,byteLength:a,length:u,view:new z(n)});c<u;)S(t,c++)}),O&&O(m,G),b=m.prototype=T(K)),b.constructor!==m&&h(b,"constructor",m),V(b).TypedArrayConstructor=m,W&&h(b,W,u);var w=m!==f;E[u]=m,i({global:!0,constructor:!0,forced:w,sham:!q},E),$ in m||h(m,$,o),$ in b||h(b,$,o),_(u)}):t.exports=function(){}},5854:(t,e,r)=>{"use strict";var i=r(2777),n=TypeError;t.exports=function(t){var e=i(t,"number");if("number"==typeof e)throw new n("Can't convert number to bigint");return BigInt(e)}},5917:(t,e,r)=>{"use strict";var i=r(3724),n=r(9039),s=r(4055);t.exports=!i&&!n(function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a})},5966:(t,e,r)=>{"use strict";var i=r(9306),n=r(4117);t.exports=function(t,e){var r=t[e];return n(r)?void 0:i(r)}},6034:(t,e,r)=>{"use strict";var i=r(6518),n=r(2357).values;i({target:"Object",stat:!0},{values:function(t){return n(t)}})},6043:(t,e,r)=>{"use strict";var i=r(9306),n=TypeError,s=function(t){var e,r;this.promise=new t(function(t,i){if(void 0!==e||void 0!==r)throw new n("Bad Promise constructor");e=t,r=i}),this.resolve=i(e),this.reject=i(r)};t.exports.f=function(t){return new s(t)}},6080:(t,e,r)=>{"use strict";var i=r(7476),n=r(9306),s=r(616),o=i(i.bind);t.exports=function(t,e){return n(t),void 0===e?t:s?o(t,e):function(){return t.apply(e,arguments)}}},6119:(t,e,r)=>{"use strict";var i=r(5745),n=r(3392),s=i("keys");t.exports=function(t){return s[t]||(s[t]=n(t))}},6193:(t,e,r)=>{"use strict";var i=r(4215);t.exports="NODE"===i},6198:(t,e,r)=>{"use strict";var i=r(8014);t.exports=function(t){return i(t.length)}},6269:t=>{"use strict";t.exports={}},6279:(t,e,r)=>{"use strict";var i=r(6840);t.exports=function(t,e,r){for(var n in e)i(t,n,e[n],r);return t}},6298:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(r(5414)),n=s(r(8330));function s(t){return t&&t.__esModule?t:{default:t}}class o extends i.default.VideoTracker{static isUsing(t){return t.ima&&void 0!==self.google}getTrackerName(){return"ima-ads"}getTrackerVersion(){return n.default.version}isMuted(){return this.player.muted}getPlayerName(){return"html5-ads"}getPlayerVersion(){return"ima: "+google.ima.VERSION}getCuePoints(){return this.player.ima.getAdsManager().getCuePoints()}getAdPosition(){if(this.lastAdData&&this.lastAdData.podInfo&&void 0!==this.lastAdData.podInfo.podIndex){const t=this.lastAdData.podInfo.podIndex;return 0===t?"pre":-1===t?"post":"mid"}return null}getDuration(){return this.lastAdData&&void 0!==this.lastAdData.duration?1e3*this.lastAdData.duration:null}getVideoId(){return this.lastAdData&&this.lastAdData.adId?this.lastAdData.adId:null}getAdCreativeId(){return this.lastAdData&&this.lastAdData.creativeId?this.lastAdData.creativeId:null}getSrc(){return this.lastAdData&&this.lastAdData.mediaUrl?this.lastAdData.mediaUrl:null}getTitle(){return this.lastAdData&&this.lastAdData.title?this.lastAdData.title:null}getPlayhead(){let t=this.player.ima.getAdsManager();if(t)return 1e3*(this.getDuration()-t.getRemainingTime())}getPlayrate(){return this.player.playbackRate}getAdPartner(){return"ima"}registerListeners(){let t=google.ima.AdEvent.Type,e=google.ima.AdErrorEvent.Type.AD_ERROR;this.lastAdData=null,i.default.Log.debugCommonVideoEvents(this.player.ima.addEventListener,[null,t.ALL_ADS_COMPLETED,t.LINEAR_CHANGED,t.COMPLETE,t.USER_CLOSE,t.CONTENT_PAUSE_REQUESTED,t.CONTENT_RESUME_REQUESTED,t.SKIPPED,t.SKIPPABLE_STATE_CHANGED,t.LOADED,t.PAUSED,t.RESUMED,t.STARTED,t.AD_CAN_PLAY,t.AD_METADATA,t.EXPANDED_CHANGED,t.AD_BREAK_READY,t.LOG,t.CLICK,t.FIRST_QUARTILE,t.MIDPOINT,t.THIRD_QUARTILE,e]),this.onLoaded=this.onLoaded.bind(this),this.onStart=this.onStart.bind(this),this.onPaused=this.onPaused.bind(this),this.onResumed=this.onResumed.bind(this),this.onComplete=this.onComplete.bind(this),this.onSkipped=this.onSkipped.bind(this),this.onClick=this.onClick.bind(this),this.onFirstQuartile=this.onFirstQuartile.bind(this),this.onMidpoint=this.onMidpoint.bind(this),this.onThirdQuartile=this.onThirdQuartile.bind(this),this.onError=this.onError.bind(this),this.player.ima.addEventListener(t.LOADED,this.onLoaded),this.player.ima.addEventListener(t.STARTED,this.onStart),this.player.ima.addEventListener(t.PAUSED,this.onPaused),this.player.ima.addEventListener(t.RESUMED,this.onResumed),this.player.ima.addEventListener(t.COMPLETE,this.onComplete),this.player.ima.addEventListener(t.SKIPPED,this.onSkipped),this.player.ima.addEventListener(t.CLICK,this.onClick),this.player.ima.addEventListener(t.FIRST_QUARTILE,this.onFirstQuartile),this.player.ima.addEventListener(t.MIDPOINT,this.onMidpoint),this.player.ima.addEventListener(t.THIRD_QUARTILE,this.onThirdQuartile),this.player.ima.addEventListener(e,this.onError)}unregisterListeners(){let t=google.ima.AdEvent.Type,e=google.ima.AdErrorEvent.Type.AD_ERROR;this.player.ima.removeEventListener(t.LOADED,this.onLoaded),this.player.ima.removeEventListener(t.STARTED,this.onStart),this.player.ima.removeEventListener(t.PAUSED,this.onPaused),this.player.ima.removeEventListener(t.RESUMED,this.onResumed),this.player.ima.removeEventListener(t.COMPLETE,this.onComplete),this.player.ima.removeEventListener(t.SKIPPED,this.onSkipped),this.player.ima.removeEventListener(t.CLICK,this.onClick),this.player.ima.removeEventListener(t.FIRST_QUARTILE,this.onFirstQuartile),this.player.ima.removeEventListener(t.MIDPOINT,this.onMidpoint),this.player.ima.removeEventListener(t.THIRD_QUARTILE,this.onThirdQuartile),this.player.ima.removeEventListener(e,this.onError),this.lastAdData=null}onLoaded(t){this.lastAdData=this.getAdData(),this.sendRequest()}onStart(t){this.lastAdData=this.getAdData(),this.sendStart()}onComplete(t){this.sendEnd(),this.lastAdData=null}onSkipped(t){this.sendEnd({skipped:!0}),this.lastAdData=null}onError(t){const e=t.getError(),r=e.getErrorCode(),i=e.getMessage();this.sendError({adError:e,errorCode:r,errorMessage:i})}onClick(t){this.sendAdClick()}onFirstQuartile(){this.sendAdQuartile({adQuartile:1})}onMidpoint(){this.sendAdQuartile({adQuartile:2})}onThirdQuartile(){this.sendAdQuartile({adQuartile:3})}onPaused(){this.sendPause()}onResumed(){this.sendResume()}getAdData(){try{const t=this.player.ima.getAdsManager();if(t){const e=t.getCurrentAd();if(e)return{adId:e.getAdId(),creativeId:e.getCreativeId(),duration:e.getDuration(),mediaUrl:e.getMediaUrl(),title:e.getTitle(),podInfo:e.getAdPodInfo()&&e.getAdPodInfo().data}}return null}catch(t){return null}}}e.default=o},6346:(t,e,r)=>{"use strict";var i=r(4576),n=r(9504),s=r(3724),o=r(7811),a=r(350),u=r(6699),c=r(2106),l=r(6279),d=r(9039),h=r(679),f=r(1291),p=r(8014),v=r(7696),y=r(5617),g=r(8490),m=r(2787),b=r(2967),E=r(4373),A=r(7680),S=r(3167),T=r(7740),w=r(687),O=r(1181),R=a.PROPER,P=a.CONFIGURABLE,D="ArrayBuffer",_="DataView",x="prototype",L="Wrong index",I=O.getterFor(D),k=O.getterFor(_),C=O.set,N=i[D],j=N,B=j&&j[x],V=i[_],H=V&&V[x],F=Object.prototype,M=i.Array,U=i.RangeError,Q=n(E),z=n([].reverse),q=g.pack,W=g.unpack,G=function(t){return[255&t]},K=function(t){return[255&t,t>>8&255]},Y=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},$=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},X=function(t){return q(y(t),23,4)},J=function(t){return q(t,52,8)},Z=function(t,e,r){c(t[x],e,{configurable:!0,get:function(){return r(this)[e]}})},tt=function(t,e,r,i){var n=k(t),s=v(r),o=!!i;if(s+e>n.byteLength)throw new U(L);var a=n.bytes,u=s+n.byteOffset,c=A(a,u,u+e);return o?c:z(c)},et=function(t,e,r,i,n,s){var o=k(t),a=v(r),u=i(+n),c=!!s;if(a+e>o.byteLength)throw new U(L);for(var l=o.bytes,d=a+o.byteOffset,h=0;h<e;h++)l[d+h]=u[c?h:e-h-1]};if(o){var rt=R&&N.name!==D;d(function(){N(1)})&&d(function(){new N(-1)})&&!d(function(){return new N,new N(1.5),new N(NaN),1!==N.length||rt&&!P})?rt&&P&&u(N,"name",D):((j=function(t){return h(this,B),S(new N(v(t)),this,j)})[x]=B,B.constructor=j,T(j,N)),b&&m(H)!==F&&b(H,F);var it=new V(new j(2)),nt=n(H.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||l(H,{setInt8:function(t,e){nt(this,t,e<<24>>24)},setUint8:function(t,e){nt(this,t,e<<24>>24)}},{unsafe:!0})}else B=(j=function(t){h(this,B);var e=v(t);C(this,{type:D,bytes:Q(M(e),0),byteLength:e}),s||(this.byteLength=e,this.detached=!1)})[x],H=(V=function(t,e,r){h(this,H),h(t,B);var i=I(t),n=i.byteLength,o=f(e);if(o<0||o>n)throw new U("Wrong offset");if(o+(r=void 0===r?n-o:p(r))>n)throw new U("Wrong length");C(this,{type:_,buffer:t,byteLength:r,byteOffset:o,bytes:i.bytes}),s||(this.buffer=t,this.byteLength=r,this.byteOffset=o)})[x],s&&(Z(j,"byteLength",I),Z(V,"buffer",k),Z(V,"byteLength",k),Z(V,"byteOffset",k)),l(H,{getInt8:function(t){return tt(this,1,t)[0]<<24>>24},getUint8:function(t){return tt(this,1,t)[0]},getInt16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=tt(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return $(tt(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return $(tt(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return W(tt(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return W(tt(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){et(this,1,t,G,e)},setUint8:function(t,e){et(this,1,t,G,e)},setInt16:function(t,e){et(this,2,t,K,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){et(this,2,t,K,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){et(this,4,t,Y,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){et(this,4,t,Y,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){et(this,4,t,X,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){et(this,8,t,J,e,arguments.length>2&&arguments[2])}});w(j,D),w(V,_),t.exports={ArrayBuffer:j,DataView:V}},6395:t=>{"use strict";t.exports=!1},6469:(t,e,r)=>{"use strict";var i=r(8227),n=r(2360),s=r(4913).f,o=i("unscopables"),a=Array.prototype;void 0===a[o]&&s(a,o,{configurable:!0,value:n(null)}),t.exports=function(t){a[o][t]=!0}},6499:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(9306),o=r(6043),a=r(1103),u=r(2652);i({target:"Promise",stat:!0,forced:r(537)},{all:function(t){var e=this,r=o.f(e),i=r.resolve,c=r.reject,l=a(function(){var r=s(e.resolve),o=[],a=0,l=1;u(t,function(t){var s=a++,u=!1;l++,n(r,e,t).then(function(t){u||(u=!0,o[s]=t,--l||i(o))},c)}),--l||i(o)});return l.error&&c(l.value),r.promise}})},6518:(t,e,r)=>{"use strict";var i=r(4576),n=r(7347).f,s=r(6699),o=r(6840),a=r(9433),u=r(7740),c=r(2796);t.exports=function(t,e){var r,l,d,h,f,p=t.target,v=t.global,y=t.stat;if(r=v?i:y?i[p]||a(p,{}):i[p]&&i[p].prototype)for(l in e){if(h=e[l],d=t.dontCallGetSet?(f=n(r,l))&&f.value:r[l],!c(v?l:p+(y?".":"#")+l,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&s(h,"sham",!0),o(r,l,h,t)}}},6699:(t,e,r)=>{"use strict";var i=r(3724),n=r(4913),s=r(6980);t.exports=i?function(t,e,r){return n.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t}},6706:(t,e,r)=>{"use strict";var i=r(9504),n=r(9306);t.exports=function(t,e,r){try{return i(n(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}}},6801:(t,e,r)=>{"use strict";var i=r(3724),n=r(8686),s=r(4913),o=r(8551),a=r(5397),u=r(1072);e.f=i&&!n?Object.defineProperties:function(t,e){o(t);for(var r,i=a(e),n=u(e),c=n.length,l=0;c>l;)s.f(t,r=n[l++],i[r]);return t}},6823:t=>{"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6837:t=>{"use strict";var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},6840:(t,e,r)=>{"use strict";var i=r(4901),n=r(4913),s=r(283),o=r(9433);t.exports=function(t,e,r,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(i(r)&&s(r,c,a),a.global)u?t[e]=r:o(e,r);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:n.f(t,e,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},6955:(t,e,r)=>{"use strict";var i=r(2140),n=r(4901),s=r(2195),o=r(8227)("toStringTag"),a=Object,u="Arguments"===s(function(){return arguments}());t.exports=i?s:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=a(t),o))?r:u?s(e):"Object"===(i=s(e))&&n(e.callee)?"Arguments":i}},6969:(t,e,r)=>{"use strict";var i=r(2777),n=r(757);t.exports=function(t){var e=i(t,"string");return n(e)?e:e+""}},6980:t=>{"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:(t,e,r)=>{"use strict";var i=r(4495);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(t,e,r)=>{"use strict";var i=r(9504),n=r(9039),s=r(2195),o=Object,a=i("".split);t.exports=n(function(){return!o("z").propertyIsEnumerable(0)})?function(t){return"String"===s(t)?a(t,""):o(t)}:o},7323:(t,e,r)=>{"use strict";var i,n,s=r(9565),o=r(9504),a=r(655),u=r(7979),c=r(8429),l=r(5745),d=r(2360),h=r(1181).get,f=r(3635),p=r(8814),v=l("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,g=y,m=o("".charAt),b=o("".indexOf),E=o("".replace),A=o("".slice),S=(n=/b*/g,s(y,i=/a/,"a"),s(y,n,"a"),0!==i.lastIndex||0!==n.lastIndex),T=c.BROKEN_CARET,w=void 0!==/()??/.exec("")[1];(S||w||T||f||p)&&(g=function(t){var e,r,i,n,o,c,l,f=this,p=h(f),O=a(t),R=p.raw;if(R)return R.lastIndex=f.lastIndex,e=s(g,R,O),f.lastIndex=R.lastIndex,e;var P=p.groups,D=T&&f.sticky,_=s(u,f),x=f.source,L=0,I=O;if(D&&(_=E(_,"y",""),-1===b(_,"g")&&(_+="g"),I=A(O,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==m(O,f.lastIndex-1))&&(x="(?: "+x+")",I=" "+I,L++),r=new RegExp("^(?:"+x+")",_)),w&&(r=new RegExp("^"+x+"$(?!\\s)",_)),S&&(i=f.lastIndex),n=s(y,D?r:f,I),D?n?(n.input=A(n.input,L),n[0]=A(n[0],L),n.index=f.lastIndex,f.lastIndex+=n[0].length):f.lastIndex=0:S&&n&&(f.lastIndex=f.global?n.index+n[0].length:i),w&&n&&n.length>1&&s(v,n[0],r,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n&&P)for(n.groups=c=d(null),o=0;o<P.length;o++)c[(l=P[o])[0]]=n[l[1]];return n}),t.exports=g},7347:(t,e,r)=>{"use strict";var i=r(3724),n=r(9565),s=r(8773),o=r(6980),a=r(5397),u=r(6969),c=r(9297),l=r(5917),d=Object.getOwnPropertyDescriptor;e.f=i?d:function(t,e){if(t=a(t),e=u(e),l)try{return d(t,e)}catch(t){}if(c(t,e))return o(!n(s.f,t,e),t[e])}},7400:t=>{"use strict";t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7433:(t,e,r)=>{"use strict";var i=r(4376),n=r(3517),s=r(34),o=r(8227)("species"),a=Array;t.exports=function(t){var e;return i(t)&&(e=t.constructor,(n(e)&&(e===a||i(e.prototype))||s(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?a:e}},7476:(t,e,r)=>{"use strict";var i=r(2195),n=r(9504);t.exports=function(t){if("Function"===i(t))return n(t)}},7495:(t,e,r)=>{"use strict";var i=r(6518),n=r(7323);i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},7629:(t,e,r)=>{"use strict";var i=r(6395),n=r(4576),s=r(9433),o="__core-js_shared__",a=t.exports=n[o]||s(o,{});(a.versions||(a.versions=[])).push({version:"3.47.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7633:(t,e,r)=>{"use strict";var i=r(7751),n=r(2106),s=r(8227),o=r(3724),a=s("species");t.exports=function(t){var e=i(t);o&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},7657:(t,e,r)=>{"use strict";var i,n,s,o=r(9039),a=r(4901),u=r(34),c=r(2360),l=r(2787),d=r(6840),h=r(8227),f=r(6395),p=h("iterator"),v=!1;[].keys&&("next"in(s=[].keys())?(n=l(l(s)))!==Object.prototype&&(i=n):v=!0),!u(i)||o(function(){var t={};return i[p].call(t)!==t})?i={}:f&&(i=c(i)),a(i[p])||d(i,p,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:v}},7680:(t,e,r)=>{"use strict";var i=r(9504);t.exports=i([].slice)},7696:(t,e,r)=>{"use strict";var i=r(1291),n=r(8014),s=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=i(t),r=n(e);if(e!==r)throw new s("Wrong length or index");return r}},7740:(t,e,r)=>{"use strict";var i=r(9297),n=r(5031),s=r(7347),o=r(4913);t.exports=function(t,e,r){for(var a=n(e),u=o.f,c=s.f,l=0;l<a.length;l++){var d=a[l];i(t,d)||r&&i(r,d)||u(t,d,c(e,d))}}},7743:(t,e,r)=>{"use strict";var i=r(6518),n=r(9565),s=r(9306),o=r(6043),a=r(1103),u=r(2652);i({target:"Promise",stat:!0,forced:r(537)},{race:function(t){var e=this,r=o.f(e),i=r.reject,c=a(function(){var o=s(e.resolve);u(t,function(t){n(o,e,t).then(r.resolve,i)})});return c.error&&i(c.value),r.promise}})},7750:(t,e,r)=>{"use strict";var i=r(4117),n=TypeError;t.exports=function(t){if(i(t))throw new n("Can't call method on "+t);return t}},7751:(t,e,r)=>{"use strict";var i=r(4576),n=r(4901);t.exports=function(t,e){return arguments.length<2?(r=i[t],n(r)?r:void 0):i[t]&&i[t][e];var r}},7782:t=>{"use strict";t.exports=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1}},7811:t=>{"use strict";t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7860:(t,e,r)=>{"use strict";var i=r(2839);t.exports=/web0s(?!.*chrome)/i.test(i)},7907:(t,e,r)=>{"use strict";r.d(e,{n:()=>p}),r(3792),r(1278),r(3362),r(3500),r(2953);var i=r(9920),n=r(8262),s=r(547),o=r(8160),a=r(9180),u=r(2747);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach(function(e){d(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function d(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e,r,i,n,s,o){try{var a=t[s](o),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(i,n)}function f(t){return function(){var e=this,r=arguments;return new Promise(function(i,n){var s=t.apply(e,r);function o(t){h(s,i,n,o,a,"next",t)}function a(t){h(s,i,n,o,a,"throw",t)}o(void 0)})}}class p{constructor(t){this.eventBuffer=t,this.retryQueueHandler=new n.u,this.httpClient=new s.X,this.fallBackUrl="",this.retryCount=0,this.eventBuffer instanceof i.t&&this.eventBuffer.setSmartHarvestCallback((t,e)=>this.triggerSmartHarvest(t,e)),this.isStarted=!1,this.currentTimerId=null,this.harvestCycle=a.A.INTERVAL,this.isHarvesting=!1,this.setupPageLifecycleHandlers()}startScheduler(){this.isStarted?u.A.warn("Harvest scheduler is already started"):(this.isStarted=!0,u.A.notice("Starting harvest scheduler",{harvestCycle:this.harvestCycle,eventBufferSize:this.eventBuffer?this.eventBuffer.size():0}),this.scheduleNextHarvest())}stopScheduler(){this.isStarted&&(this.isStarted=!1,this.currentTimerId&&(clearTimeout(this.currentTimerId),this.currentTimerId=null),u.A.notice("Harvest scheduler stopped"))}triggerSmartHarvest(t,e){var r=this;return f(function*(){if(u.A.notice(`${t} harvest triggered at ${e}% threshold`,{type:t,threshold:e}),r.eventBuffer&&!r.eventBuffer.isEmpty()){r.currentTimerId&&(clearTimeout(r.currentTimerId),r.currentTimerId=null);try{yield r.triggerHarvest({})}catch(e){u.A.error(`${t} harvest failed:`,e.message)}finally{r.isStarted&&r.scheduleNextHarvest()}}})()}scheduleNextHarvest(){if(!this.isStarted)return;const t=this.harvestCycle;this.currentTimerId=setTimeout(()=>this.onHarvestInterval(),t)}onHarvestInterval(){var t=this;return f(function*(){try{const e=t.eventBuffer&&!t.eventBuffer.isEmpty(),r=t.retryQueueHandler&&t.retryQueueHandler.getQueueSize()>0;if(!e&&!r)return;yield t.triggerHarvest({})}catch(t){u.A.error("Error during scheduled harvest:",t.message)}finally{t.scheduleNextHarvest()}})()}triggerHarvest(){var t=this;return f(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(t.isHarvesting)return{success:!1,reason:"harvest_in_progress"};t.isHarvesting=!0;try{let r=t.drainEvents(e);if(e.isFinalHarvest){const e=a.A.MAX_BEACON_SIZE;(0,o.Q3)(r)>e&&(r=t.trimEventsToFit(r,e))}const i=yield t.sendChunk(r,e,!0);return{success:i.success,totalChunks:1,results:[i]}}catch(e){return u.A.error("Harvest cycle failed:",e.message),t.handleHarvestFailure(e),{success:!1,error:e.message,consecutiveFailures:t.consecutiveFailures}}finally{t.isHarvesting=!1}}()}).apply(this,arguments)}trimEventsToFit(t,e){if(0===t.length)return t;const r=[];let i=0;for(let n=t.length-1;n>=0;n--){const s=t[n],a=(0,o.Q3)({ins:[s,...r]});a>e||(r.unshift(s),i=a)}const n=t.length-r.length;if(n>0){const s=t.slice(0,n);u.A.warn(`Discarded ${n} events to fit beacon size limit`,{originalCount:t.length,trimmedCount:r.length,finalSize:i,maxSize:e}),this.retryQueueHandler&&this.retryQueueHandler.addFailedEvents(s)}return r}drainEvents(){const t=this.eventBuffer.drain();let e=[...t],r=(0,o.Q3)(t);if(this.retryQueueHandler&&this.retryQueueHandler.getQueueSize()>0){const t=a.A.MAX_PAYLOAD_SIZE-r,i=a.A.MAX_EVENTS_PER_BATCH-e.length;if(t>0&&i>0){const r=this.retryQueueHandler.getRetryEventsToFit(t,i);r.length>0&&(e=[...r,...e])}}return e}sendChunk(t,e,r){var i=this;return f(function*(){const n={url:(0,o.c$)(i.fallBackUrl),payload:{body:{ins:t}},options:l(l({},e),{},{isLastChunk:r})};return new Promise(e=>{i.httpClient.send(n,r=>{r.retry?i.handleRequestFailure(t):(i.retryCount=0,i.fallBackUrl=""),e({success:!r.retry,status:r.status,error:r.error,chunk:t,eventCount:t.length})})})})()}handleRequestFailure(t){var e;this.retryQueueHandler.addFailedEvents(t),"US"===(null===(e=window.NRVIDEO)||void 0===e||null===(e=e.info)||void 0===e?void 0:e.region)&&(this.retryCount++,this.retryCount>5?(this.retryCount=0,this.fallBackUrl=""):this.retryCount>=2&&(this.fallBackUrl=a.A.COLLECTOR.US[1]))}handleHarvestFailure(t){this.consecutiveFailures++,u.A.warn("Harvest failure handled",{error:t.message,consecutiveFailures:this.consecutiveFailures})}updateHarvestInterval(t){"number"!=typeof t&&isNaN(t)?u.A.warn("Invalid newInterval provided to updateHarvestInterval"):t<1e3||t>3e5?u.A.warn("newInterval out of bounds (1000-300000), ignoring"):this.harvestCycle!==t&&(this.harvestCycle=t,u.A.notice("Updated harvestCycle:",this.harvestCycle),this.currentTimerId&&(clearTimeout(this.currentTimerId),this.currentTimerId=null),this.isStarted&&this.scheduleNextHarvest())}setupPageLifecycleHandlers(){let t=!1;const e=()=>{t||(t=!0,this.triggerHarvest({isFinalHarvest:!0,force:!0}))};document.addEventListener("visibilitychange",()=>{document.hidden&&e()}),window.addEventListener("pagehide",()=>{e()}),window.addEventListener("beforeunload",()=>{e()})}}},7979:(t,e,r)=>{"use strict";var i=r(8551);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},8014:(t,e,r)=>{"use strict";var i=r(1291),n=Math.min;t.exports=function(t){var e=i(t);return e>0?n(e,9007199254740991):0}},8160:(t,e,r)=>{"use strict";r.d(e,{Q3:()=>a,Sc:()=>u,c$:()=>s}),r(3792),r(3362),r(1489),r(5044),r(8845),r(373),r(2953);var i=r(2645),n=r(2747);function s(t){try{if(!window.NRVIDEO||!window.NRVIDEO.info)throw new Error("NRVIDEO info is not available.");let e=window.NRVIDEO.info,r=e.beacon,n=e.licenseKey,s=e.applicationID;if(!r||!n)throw new Error("Options object provided by New Relic is not correctly initialized");return s?`https://${t||r}/ins/1/${n}?a=${s}&v=${i.rE}&ref=${window.location.href}&ca=VA`:`https://${t||r}/ins/1/${n}?&v=${i.rE}&ref=${window.location.href}&ca=VA`}catch(t){return console.error(t.message),null}}const o=()=>{const t=new WeakSet;return(e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return;t.add(r)}return r}};function a(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return function(t){try{var e;return null!==(e=JSON.stringify(t,o()))&&void 0!==e?e:""}catch(t){return n.A.error("Error stringifying value:",t.message),""}}(t).length}catch(t){return}}}function u(t){switch(t){case 408:case 429:case 500:return!0;case 401:case 403:case 404:return!1}return t>=502&&t<=504||t>=512&&t<=530}},8227:(t,e,r)=>{"use strict";var i=r(4576),n=r(5745),s=r(9297),o=r(3392),a=r(4495),u=r(7040),c=i.Symbol,l=n("wks"),d=u?c.for||c:c&&c.withoutSetter||o;t.exports=function(t){return s(l,t)||(l[t]=a&&s(c,t)?c[t]:d("Symbol."+t)),l[t]}},8229:(t,e,r)=>{"use strict";var i=r(9590),n=RangeError;t.exports=function(t,e){var r=i(t);if(r%e)throw new n("Wrong offset");return r}},8262:(t,e,r)=>{"use strict";r.d(e,{u:()=>h}),r(9463),r(3792),r(1278),r(7495),r(3500),r(2953);var i=r(2747),n=r(8160),s=r(9180);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}const l=s.A.MAX_PAYLOAD_SIZE,d=s.A.MAX_EVENTS_PER_BATCH;class h{constructor(){this.retryQueue=[],this.maxQueueSize=d,this.maxQueueSizeBytes=l}addFailedEvents(t){try{const s=Array.isArray(t)?t:[t];i.A.notice(`Adding ${s.length} failed events to retry queue`,{queueSizeBefore:this.retryQueue.length});var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,s=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw s}}}}(s);try{for(r.s();!(e=r.n()).done;){const t=e.value;this.retryQueue.length>=this.maxQueueSize&&this.evictOldestEvent();const r=(0,n.Q3)(t);for(;(0,n.Q3)(this.retryQueue)+r>this.maxQueueSizeBytes;)this.evictOldestEvent();this.retryQueue.push(a({},t))}}catch(t){r.e(t)}finally{r.f()}}catch(t){i.A.error("Failed to add events to retry queue:",t.message)}}discardEvent(t,e){i.A.warn("Discarded event",{reason:e,eventType:t.eventType})}evictOldestEvent(){if(this.retryQueue.length>0){const t=this.retryQueue.shift();this.discardEvent(t,"Queue full - evicted oldest")}}getRetryEventsToFit(t,e){const r=[];let i=0,s=0;for(let o=this.retryQueue.length-1;o>=0;o--){const a=this.retryQueue[o];if(s>=e)break;const u=(0,n.Q3)(a);if(i+u>t)break;r.unshift(a),i+=u,s++,this.retryQueue.splice(o,1)}return r}getQueueSize(){return this.retryQueue.length}clear(){this.retryQueue=[]}}},8265:t=>{"use strict";var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},8319:t=>{"use strict";var e=Math.round;t.exports=function(t){var r=e(t);return r<0?0:r>255?255:255&r}},8330:t=>{"use strict";t.exports=JSON.parse('{"name":"@newrelic/video-html5","version":"4.1.0","description":"New relic tracker for HTML5 players","main":"dist/cjs/index.js","module":"dist/esm/index.js","scripts":{"build":"webpack --mode production ","build:dev":"webpack --mode development ","watch":"webpack -p --progress --color --watch --mode production","watch:dev":"webpack --progress --color --watch --mode development","prezip":"npm run build","zip":"zip -P newrelic -x \'*.DS_Store\' -r html5.zip dist samples README.md CHANGELOG.md EULA.md","clean":"rm -rf dist *.zip","deploy":"node scripts/deploy.js","third-party-updates":"oss third-party manifest --includeOptDeps && oss third-party notices --includeOptDeps && git add THIRD_PARTY_NOTICES.md third_party_manifest.json"},"repository":{"type":"git","url":"https://github.com/newrelic/video-html5-js.git"},"author":"Jordi Aguilar","license":"Apache-2.0","dependencies":{"@babel/plugin-transform-nullish-coalescing-operator":"^7.24.7","@babel/plugin-transform-optional-chaining":"^7.24.8","@newrelic/video-core":"/Users/cmalay/Desktop/npm/video-html5-js/newrelic-video-core-4.0.2.tgz","abortcontroller-polyfill":"^1.7.8","core-js":"^3.0.0"},"devDependencies":{"@babel/core":"^7.24.5","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/plugin-transform-async-to-generator":"^7.27.1","@babel/plugin-transform-class-properties":"^7.27.1","@babel/plugin-transform-destructuring":"^7.28.5","@babel/plugin-transform-for-of":"^7.27.1","@babel/plugin-transform-modules-commonjs":"^7.24.1","@babel/plugin-transform-object-rest-spread":"^7.28.4","@babel/plugin-transform-object-super":"^7.27.1","@babel/plugin-transform-parameters":"^7.27.7","@babel/preset-env":"^7.24.5","@newrelic/newrelic-oss-cli":"^0.1.2","aws-sdk":"^2.920.0","babel-loader":"^9.1.3","webpack":"^5.91.0","webpack-cli":"^4.9.2"},"files":["THIRD_PARTY_NOTICES.md","dist","src","CHANGELOG.md","README.md","!test","LICENSE"],"publishConfig":{"access":"public"}}')},8350:(t,e,r)=>{"use strict";var i=r(6518),n=r(259),s=r(9306),o=r(8981),a=r(6198),u=r(1469);i({target:"Array",proto:!0},{flatMap:function(t){var e,r=o(this),i=a(r);return s(t),(e=u(r,0)).length=n(e,r,r,i,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},8429:(t,e,r)=>{"use strict";var i=r(9039),n=r(4576).RegExp,s=i(function(){var t=n("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),o=s||i(function(){return!n("a","y").sticky}),a=s||i(function(){var t=n("^r","gy");return t.lastIndex=2,null!==t.exec("str")});t.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},8480:(t,e,r)=>{"use strict";var i=r(1828),n=r(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},8490:t=>{"use strict";var e=Array,r=Math.abs,i=Math.pow,n=Math.floor,s=Math.log,o=Math.LN2;t.exports={pack:function(t,a,u){var c,l,d,h=e(u),f=8*u-a-1,p=(1<<f)-1,v=p>>1,y=23===a?i(2,-24)-i(2,-77):0,g=t<0||0===t&&1/t<0?1:0,m=0;for((t=r(t))!=t||t===1/0?(l=t!=t?1:0,c=p):(c=n(s(t)/o),t*(d=i(2,-c))<1&&(c--,d*=2),(t+=c+v>=1?y/d:y*i(2,1-v))*d>=2&&(c++,d/=2),c+v>=p?(l=0,c=p):c+v>=1?(l=(t*d-1)*i(2,a),c+=v):(l=t*i(2,v-1)*i(2,a),c=0));a>=8;)h[m++]=255&l,l/=256,a-=8;for(c=c<<a|l,f+=a;f>0;)h[m++]=255&c,c/=256,f-=8;return h[m-1]|=128*g,h},unpack:function(t,e){var r,n=t.length,s=8*n-e-1,o=(1<<s)-1,a=o>>1,u=s-7,c=n-1,l=t[c--],d=127&l;for(l>>=7;u>0;)d=256*d+t[c--],u-=8;for(r=d&(1<<-u)-1,d>>=-u,u+=e;u>0;)r=256*r+t[c--],u-=8;if(0===d)d=1-a;else{if(d===o)return r?NaN:l?-1/0:1/0;r+=i(2,e),d-=a}return(l?-1:1)*r*i(2,d-e)}}},8551:(t,e,r)=>{"use strict";var i=r(34),n=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not an object")}},8622:(t,e,r)=>{"use strict";var i=r(4576),n=r(4901),s=i.WeakMap;t.exports=n(s)&&/native code/.test(String(s))},8686:(t,e,r)=>{"use strict";var i=r(3724),n=r(9039);t.exports=i&&n(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8727:t=>{"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(t,e,r)=>{"use strict";var i=r(616),n=Function.prototype,s=n.apply,o=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},8773:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},8814:(t,e,r)=>{"use strict";var i=r(9039),n=r(4576).RegExp;t.exports=i(function(){var t=n("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})},8845:(t,e,r)=>{"use strict";var i=r(4576),n=r(9565),s=r(4644),o=r(6198),a=r(8229),u=r(8981),c=r(9039),l=i.RangeError,d=i.Int8Array,h=d&&d.prototype,f=h&&h.set,p=s.aTypedArray,v=s.exportTypedArrayMethod,y=!c(function(){var t=new Uint8ClampedArray(2);return n(f,t,{length:1,0:3},1),3!==t[1]}),g=y&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c(function(){var t=new d(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]});v("set",function(t){p(this);var e=a(arguments.length>1?arguments[1]:void 0,1),r=u(t);if(y)return n(f,this,r,e);var i=this.length,s=o(r),c=0;if(s+e>i)throw new l("Wrong length");for(;c<s;)this[e+c]=r[c++]},!y||g)},8981:(t,e,r)=>{"use strict";var i=r(7750),n=Object;t.exports=function(t){return n(i(t))}},9039:t=>{"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},9167:(t,e,r)=>{"use strict";var i=r(4576);t.exports=i},9180:(t,e,r)=>{"use strict";r.d(e,{A:()=>n});class i{}i.AdPositions={PRE:"pre",MID:"mid",POST:"post"},i.COLLECTOR={US:["bam.nr-data.net","bam-cell.nr-data.net"],EU:"bam.eu01.nr-data.net",Staging:"staging-bam-cell.nr-data.net",GOV:"gov-bam.nr-data.net"},i.VALID_EVENT_TYPES=["VideoAction","VideoAdAction","VideoErrorAction","VideoCustomAction"],i.MAX_PAYLOAD_SIZE=1048576,i.MAX_BEACON_SIZE=61440,i.MAX_EVENTS_PER_BATCH=1e3,i.INTERVAL=1e4;const n=i},9213:(t,e,r)=>{"use strict";var i=r(6080),n=r(9504),s=r(7055),o=r(8981),a=r(6198),u=r(1469),c=n([].push),l=function(t){var e=1===t,r=2===t,n=3===t,l=4===t,d=6===t,h=7===t,f=5===t||d;return function(p,v,y,g){for(var m,b,E=o(p),A=s(E),S=a(A),T=i(v,y),w=0,O=g||u,R=e?O(p,S):r||h?O(p,0):void 0;S>w;w++)if((f||w in A)&&(b=T(m=A[w],w,E),t))if(e)R[w]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:c(R,m)}else switch(t){case 4:return!1;case 7:c(R,m)}return d?-1:n||l?l:R}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},9225:(t,e,r)=>{"use strict";var i,n,s,o,a=r(4576),u=r(8745),c=r(6080),l=r(4901),d=r(9297),h=r(9039),f=r(397),p=r(7680),v=r(4055),y=r(2812),g=r(9544),m=r(6193),b=a.setImmediate,E=a.clearImmediate,A=a.process,S=a.Dispatch,T=a.Function,w=a.MessageChannel,O=a.String,R=0,P={},D="onreadystatechange";h(function(){i=a.location});var _=function(t){if(d(P,t)){var e=P[t];delete P[t],e()}},x=function(t){return function(){_(t)}},L=function(t){_(t.data)},I=function(t){a.postMessage(O(t),i.protocol+"//"+i.host)};b&&E||(b=function(t){y(arguments.length,1);var e=l(t)?t:T(t),r=p(arguments,1);return P[++R]=function(){u(e,void 0,r)},n(R),R},E=function(t){delete P[t]},m?n=function(t){A.nextTick(x(t))}:S&&S.now?n=function(t){S.now(x(t))}:w&&!g?(o=(s=new w).port2,s.port1.onmessage=L,n=c(o.postMessage,o)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!h(I)?(n=I,a.addEventListener("message",L,!1)):n=D in v("script")?function(t){f.appendChild(v("script"))[D]=function(){f.removeChild(this),_(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:b,clear:E}},9296:(t,e,r)=>{"use strict";var i=r(4055)("span").classList,n=i&&i.constructor&&i.constructor.prototype;t.exports=n===Object.prototype?void 0:n},9297:(t,e,r)=>{"use strict";var i=r(9504),n=r(8981),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(n(t),e)}},9302:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(r(5414)),n=o(r(8330)),s=o(r(6298));function o(t){return t&&t.__esModule?t:{default:t}}class a extends i.default.VideoTracker{constructor(t,e){super(t,e),this.on("*",function(t){console.log("[HTML5 Tracker] ðŸ“¤ Event emitted:",t.type,t.eventType)}),i.default.Core.addTracker(this,e)}getTrackerName(){return"html5"}getPlayerName(){return"HTML5"}getInstrumentationProvider(){return"New Relic"}getInstrumentationName(){return this.getPlayerName()}getInstrumentationVersion(){return this.getPlayerVersion()}getPlayerVersion(){return n.default.version}getPlayhead(){return 1e3*this.player.currentTime}getDuration(){return 1e3*this.player.duration}getSrc(){return this.player.currentSrc}isMuted(){return this.player.muted}getRenditionHeight(){return this.player.videoHeight}getRenditionWidth(){return this.player.videoWidth}getPlayrate(){return this.player.playbackRate}isAutoplayed(){return this.player.autoplay}getPreload(){return this.player.preload}onAdsready(){this.adsTracker||s.default.isUsing(this.player)&&this.setAdsTracker(new s.default(this.player))}onAdStart(){this.currentAdPlaying=!0,this.imaAdCuePoints||(this.imaAdCuePoints=this.player&&this.player.ima&&this.player.ima.getAdsManager().getCuePoints())}onAdEnd(){this.isContentEnd&&this.sendEnd()}registerListeners(){i.default.Log.debugCommonVideoEvents(this.player),this.onDownload=this.onDownload.bind(this),this.onAdsready=this.onAdsready.bind(this),this.onAdStart=this.onAdStart.bind(this),this.onAdEnd=this.onAdEnd.bind(this),this.onPlay=this.onPlay.bind(this),this.onPlaying=this.onPlaying.bind(this),this.onPause=this.onPause.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onSeeked=this.onSeeked.bind(this),this.onError=this.onError.bind(this),this.onEnded=this.onEnded.bind(this),this.onWaiting=this.onWaiting.bind(this),this.player.addEventListener("loadstart",this.onDownload),this.player.addEventListener("loadedmetadata",this.onDownload),this.player.addEventListener("loadeddata",this.onDownload),this.player.addEventListener("adsready",this.onAdsready),this.player.addEventListener("adstart",this.onAdStart),this.player.addEventListener("adend",this.onAdEnd),this.player.addEventListener("canplay",this.onDownload),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("seeking",this.onSeeking),this.player.addEventListener("seeked",this.onSeeked),this.player.addEventListener("error",this.onError),this.player.addEventListener("ended",this.onEnded),this.player.addEventListener("waiting",this.onWaiting)}unregisterListeners(){this.player.removeEventListener("loadstart",this.onDownload),this.player.removeEventListener("loadedmetadata",this.onDownload),this.player.removeEventListener("loadeddata",this.onDownload),this.player.removeEventListener("adsready",this.onAdsready),this.player.removeEventListener("adstart",this.onAdStart),this.player.removeEventListener("adend",this.onAdEnd),this.player.removeEventListener("canplay",this.onDownload),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("seeking",this.onSeeking),this.player.removeEventListener("seeked",this.onSeeked),this.player.removeEventListener("error",this.onError),this.player.removeEventListener("ended",this.onEnded),this.player.removeEventListener("waiting",this.onWaiting)}onDownload(t){this.sendDownload({state:t.type})}onPlay(){this.sendRequest()}onPlaying(){this.sendBufferEnd(),this.sendResume(),this.sendStart()}onPause(){this.sendPause()}onSeeking(){this.sendSeekStart()}onSeeked(){this.sendSeekEnd()}onError(t){const e=t.code,r=t.message;e||r?this.sendError({errorCode:e,errorMessage:r}):this.sendError({error:t})}onEnded(){this.sendEnd()}onWaiting(){this.player.networkState===this.player.NETWORK_LOADING&&this.player.readyState<this.player.HAVE_FUTURE_DATA&&this.sendBufferStart()}}e.default=a},9306:(t,e,r)=>{"use strict";var i=r(4901),n=r(6823),s=TypeError;t.exports=function(t){if(i(t))return t;throw new s(n(t)+" is not a function")}},9433:(t,e,r)=>{"use strict";var i=r(4576),n=Object.defineProperty;t.exports=function(t,e){try{n(i,t,{value:e,configurable:!0,writable:!0})}catch(r){i[t]=e}return e}},9463:(t,e,r)=>{"use strict";var i=r(6518),n=r(3724),s=r(4576),o=r(9504),a=r(9297),u=r(4901),c=r(1625),l=r(655),d=r(2106),h=r(7740),f=s.Symbol,p=f&&f.prototype;if(n&&u(f)&&(!("description"in p)||void 0!==f().description)){var v={},y=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=c(p,this)?new f(t):void 0===t?f():f(t);return""===t&&(v[e]=!0),e};h(y,f),y.prototype=p,p.constructor=y;var g="Symbol(description detection)"===String(f("description detection")),m=o(p.valueOf),b=o(p.toString),E=/^Symbol\((.*)\)[^)]+$/,A=o("".replace),S=o("".slice);d(p,"description",{configurable:!0,get:function(){var t=m(this);if(a(v,t))return"";var e=b(t),r=g?S(e,7,-1):A(e,E,"$1");return""===r?void 0:r}}),i({global:!0,constructor:!0,forced:!0},{Symbol:y})}},9504:(t,e,r)=>{"use strict";var i=r(616),n=Function.prototype,s=n.call,o=i&&n.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},9519:(t,e,r)=>{"use strict";var i,n,s=r(4576),o=r(2839),a=s.process,u=s.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(n=(i=l.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!n&&o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=+i[1]),t.exports=n},9539:(t,e,r)=>{"use strict";var i=r(9565),n=r(8551),s=r(5966);t.exports=function(t,e,r){var o,a;n(t);try{if(!(o=s(t,"return"))){if("throw"===e)throw r;return r}o=i(o,t)}catch(t){a=!0,o=t}if("throw"===e)throw r;if(a)throw o;return n(o),r}},9544:(t,e,r)=>{"use strict";var i=r(2839);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},9565:(t,e,r)=>{"use strict";var i=r(616),n=Function.prototype.call;t.exports=i?n.bind(n):function(){return n.apply(n,arguments)}},9590:(t,e,r)=>{"use strict";var i=r(1291),n=RangeError;t.exports=function(t){var e=i(t);if(e<0)throw new n("The argument can't be less than 0");return e}},9617:(t,e,r)=>{"use strict";var i=r(5397),n=r(5610),s=r(6198),o=function(t){return function(e,r,o){var a=i(e),u=s(a);if(0===u)return!t&&-1;var c,l=n(o,u);if(t&&r!=r){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},9920:(t,e,r)=>{"use strict";r.d(e,{t:()=>u});var i=r(2747),n=r(9180),s=r(8160);const o=n.A.MAX_PAYLOAD_SIZE,a=n.A.MAX_EVENTS_PER_BATCH;class u{constructor(){this.buffer=[],this.maxPayloadSize=o,this.maxEventsPerBatch=a,this.currentPayloadSize=0,this.totalEvents=0,this.smartHarvestPayloadThreshold=Math.floor(.6*this.maxPayloadSize),this.overflowPayloadThreshold=Math.floor(.9*this.maxPayloadSize),this.smartHarvestEventThreshold=Math.floor(.6*this.maxEventsPerBatch),this.overflowEventThreshold=Math.floor(.9*this.maxEventsPerBatch),this.onSmartHarvestTrigger=null}add(t){try{const e=(0,s.Q3)(t),r=this.currentPayloadSize+e>=this.maxPayloadSize,i=this.totalEvents+1>=this.maxEventsPerBatch;return(r||i)&&this.makeRoom(e),this.buffer.push(t),this.totalEvents++,this.currentPayloadSize+=e,this.checkSmartHarvestTrigger(),!0}catch(t){return i.A.error("Failed to add event to buffer:",t.message),!1}}checkSmartHarvestTrigger(){const t=this.currentPayloadSize/this.maxPayloadSize,e=this.totalEvents/this.maxEventsPerBatch,r=this.currentPayloadSize>=this.overflowPayloadThreshold,n=this.totalEvents>=this.overflowEventThreshold;if(r||n){const n=r?`payload ${this.currentPayloadSize}/${this.maxPayloadSize} bytes (${Math.round(100*t)}%)`:`events ${this.totalEvents}/${this.maxEventsPerBatch} (${Math.round(100*e)}%)`;i.A.warn(`OVERFLOW PREVENTION: ${n} - Emergency harvest triggered`),this.onSmartHarvestTrigger&&"function"==typeof this.onSmartHarvestTrigger&&this.onSmartHarvestTrigger("overflow",90)}else{const t=this.currentPayloadSize>=this.smartHarvestPayloadThreshold,e=this.totalEvents>=this.smartHarvestEventThreshold;(t||e)&&this.onSmartHarvestTrigger&&"function"==typeof this.onSmartHarvestTrigger&&this.onSmartHarvestTrigger("smart",60)}}setSmartHarvestCallback(t){this.onSmartHarvestTrigger=t}drain(){try{const t=this.buffer.splice(0);return this.totalEvents=0,this.currentPayloadSize=0,t}catch(t){return i.A.error("Failed to drain events from buffer:",t.message),[]}}isEmpty(){return 0===this.totalEvents}size(){return this.totalEvents}clear(){this.buffer=[],this.totalEvents=0}makeRoom(t){if(t>this.maxPayloadSize)i.A.error("Event dropped: Event size exceeds maximum payload size.");else for(;(this.totalEvents>=this.maxEventsPerBatch||this.currentPayloadSize+t>=this.maxPayloadSize)&&this.buffer.length>0;){const t=this.buffer.shift(),e=(0,s.Q3)(t);this.totalEvents--,this.currentPayloadSize-=e,i.A.warn("Event buffer full, oldest event removed.")}}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";var t=i;t.default=void 0,r(4715);var e,n=(e=r(9302))&&e.__esModule?e:{default:e};t.default=n.default})(),i.default})());
//# sourceMappingURL=newrelic-video-html5.min.js.map
